webpackJsonp([39],{1059:function(t,e){},1244:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"title",rawName:"v-title",value:"成员信息",expression:"'成员信息'"}],staticClass:"familyMember"},[i("div",{staticClass:"familyMember-header"},[i("div",{staticClass:"familyMember-header-headimg"},[i("img",{attrs:{src:t.info.headimgurl}})]),t._v(" "),i("p",{staticClass:"familyMember-header-name"},[t._v(t._s(t.info.name))])]),t._v(" "),i("ul",{staticClass:"familyMember-info"},[i("li",{staticClass:"familyMember-info-item"},[i("span",[t._v("身份")]),t._v(" "),i("span",[t._v(t._s(1===t.info.identity?"户主":2===t.info.identity?"家属":3===t.info.identity?"租户":""))])]),t._v(" "),i("li",{staticClass:"familyMember-info-item"},[i("span",[t._v("手机号")]),t._v(" "),i("span",[t._v(t._s(t.info.cellphone))])]),t._v(" "),"host"===t.$route.params.type?i("li",{staticClass:"familyMember-info-item"},[i("span",[t._v("审核状态")]),t._v(" "),i("span",[t._v(t._s(2===t.info.status?"已通过":1===t.info.status?"待审核":3===t.info.status?"已拒绝":""))])]):t._e(),t._v(" "),1===t.myInfo.indentity&&2===t.info.status&&1!==t.info.identity?i("li",{staticClass:"familyMember-info-item"},[i("span",[t._v("设为代理人")]),t._v(" "),i("zdCheckbox",{attrs:{active:t.setAsAgent},on:{click:t.handleClickSetAgent}})],1):t._e()]),t._v(" "),"host"===t.$route.params.type?i("div",{staticClass:"familyMember-operate"},[2===t.info.status&&1!==t.info.identity?i("zdButton",{attrs:{type:"danger"},on:{click:t.handleDelMember}},[t._v("删除")]):1===t.info.status?i("div",{staticClass:"familyMember-operate-button"},[i("zdButton",{attrs:{type:"primary"},on:{click:function(e){t.handleAudit("disagree")}}},[t._v("拒绝")]),t._v(" "),i("zdButton",{on:{click:function(e){t.handleAudit("agree")}}},[t._v("同意")])],1):t._e()],1):t._e()])},staticRenderFns:[]}},451:function(t,e,i){function n(t){i(1059)}var s=i(65)(i(968),i(1244),n,null,null);t.exports=s.exports},781:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{type:String,size:{type:String,default:"large"},disabled:Boolean},methods:{handleClick:function(t){null!=this.disabled&&!1!==this.disabled||this.$emit("click",t)}}}},782:function(t,e){},783:function(t,e,i){function n(t){i(782)}var s=i(65)(i(781),i(784),n,null,null);t.exports=s.exports},784:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{staticClass:"zd-button",class:[t.size?"zd-button-"+t.size:"",t.type?"zd-button-"+t.type:"",{"zd-button-disabled":t.disabled}],attrs:{disabled:t.disabled},on:{click:t.handleClick}},[i("span",[t._t("default")],2)])},staticRenderFns:[]}},794:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{active:{}},methods:{handleClick:function(t){this.$emit("click",t)}}}},797:function(t,e){},798:function(t,e,i){function n(t){i(797)}var s=i(65)(i(794),i(799),n,null,null);t.exports=s.exports},799:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("i",{staticClass:"zd-checkbox",class:{"zd-checkbox-active":t.active},on:{click:t.handleClick}})},staticRenderFns:[]}},968:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(783),a=n(s),o=i(798),r=n(o);e.default={components:{zdButton:a.default,zdCheckbox:r.default},data:function(){return{setAsAgent:!1,info:{headimgurl:"",name:"",identity:"",cellphone:"",status:"",isAgent:!1}}},computed:{isVisitor:function(){return this.$store.state.isVisitor},myInfo:function(){return this.$store.state.info}},methods:{handleDelMember:function(){var t=this;1==confirm("确定删除该成员吗？")&&this.$http({url:"/api/system/personalCenter/delMember",method:"post",data:{id:this.$route.query.id}}).then(function(e){"00000"===e.data.code&&t.$router.push("/person/myFamily")}).catch(function(t){console.log(t)})},handleClickSetAgent:function(){var t=this;!1===this.setAsAgent?(this.setAsAgent=!0,this.$http({url:"/api/system/personalCenter/setAgent",method:"post",data:{id:this.$route.query.id}}).then(function(e){"00000"===e.data.code&&t.$message("设置代理人成功")}).catch(function(t){console.log(t)})):(this.setAsAgent=!1,this.$http({url:"/api/system/personalCenter/cancelAgent",method:"post",data:{id:this.$route.query.id}}).then(function(e){"00000"===e.data.code&&t.$message("已取消代理人身份")}).catch(function(t){console.log(t)}))},handleAudit:function(t){var e=this;this.$http({url:"/api/system/personalCenter/auditMember",method:"post",data:{type:t,id:this.$route.query.id}}).then(function(t){"00000"===t.data.code&&e.$router.push("/person/myFamily")}).catch(function(t){console.log(t)})}},mounted:function(){var t=this;!0===this.isVisitor?this.$router.replace("/index/visitorPerson"):this.$http({url:"/api/system/personalCenter/getMemberInfo",params:{type:this.$route.params.type,id:this.$route.query.id,auditStatus:this.$route.query.auditStatus}}).then(function(e){"00000"===e.data.code&&(t.info.headimgurl=e.data.info.avatar,t.info.name=e.data.info.realName,t.info.identity=e.data.info.identity,t.info.cellphone=e.data.info.cellphone,t.info.status=e.data.info.status?e.data.info.status:2,t.info.isAgent=e.data.info.theResponsible,t.setAsAgent=e.data.info.theResponsible)}).catch(function(t){console.log(t)})}}}});