webpackJsonp([48],{1310:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("input",{attrs:{type:"file",id:"file"}}),t._v(" "),i("button",{on:{click:t.handleUpload}},[t._v("上传")])])},staticRenderFns:[]}},475:function(t,e,i){var n=i(65)(i(996),i(1310),null,null,null);t.exports=n.exports},802:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{value:{type:Array},uploadType:{},uploadFileType:{},uploadId:{},maxLength:{type:Number},annotation:{},multiple:{type:Boolean,default:!0}},data:function(){return{support:!0,imgArr:[],times:0,onProgressCount:0,imgSrc:"",showImg:!1}},computed:{imgServerUrlArr:function(){for(var t=[],e=0;e<this.imgArr.length;e++)t.push(this.imgArr[e].serverUrl);return t},getFull:function(){return!(this.imgArr.length>=this.maxLength)},isIos:function(){var t=navigator.userAgent.toLowerCase();return-1!=t.indexOf("iphone")||-1!=t.indexOf("ipad")}},methods:{hidden:function(){this.showImg=!1,this.imgSrc=""},bigImg:function(t){this.imgSrc=t,this.showImg=!0},handleAddClick:function(){document.getElementById("zd-upload-file-"+this.uploadId).click()},handleAddChange:function(){for(var t=this,e=0;e<document.getElementById("zd-upload-file-"+t.uploadId).files.length;e++)!function(e){var i=new FileReader;i.onloadend=function(i){var n="files"+t.times;t.pushIntoImgArr(n,i.target.result),t.times++;var l=t.imgArr.length-1,a=new FormData;a.append("file",document.getElementById("zd-upload-file-"+t.uploadId).files[e]),a.append("uploadType",t.uploadType),a.append("fileSuffixType",t.uploadFileType),t.onProgressCount++,t.$http({url:"/v1/file",method:"post",data:a,onUploadProgress:function(e){t.imgArr[l].progressingWidth=e.loaded/e.total*1.8}}).then(function(e){t.onProgressCount--,1e4===e.data.code&&1e4===e.data.returnData.subCode?(t.imgArr[l].serverUrl=e.data.returnData.data.filePath,t.imgArr[l].uploading=!1):t.imgArr.splice(l,1),t.$emit("input",t.imgServerUrlArr),document.getElementById("zd-upload-file-form-"+t.uploadId).reset()}).catch(function(e){t.onProgressCount--,t.imgArr.splice(l,1),alert("因为未知的原因，图片上传失败")})},i.readAsDataURL(document.getElementById("zd-upload-file-"+t.uploadId).files[e])}(e)},handleDel:function(t,e){this.imgArr.splice(t,1),this.$emit("input",this.imgServerUrlArr)},pushIntoImgArr:function(t,e){this.imgArr.push({key:t,src:e,progressingWidth:0,uploading:!0,serverUrl:""})}},created:function(){FileReader||(this.support=!1,alert("您的浏览器暂不支持图片上传"))}}},804:function(t,e){},805:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAIAAABKGoy8AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpkMTJhOWM4Zi04Y2ZkLTUyNDctOWE3MS05ZDM3ZTBmZmJlMTYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Qjk4MkRDNzA1MzExMTFFN0JGOTBFQzc2OEM2OEVGOUYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Qjk4MkRDNkY1MzExMTFFN0JGOTBFQzc2OEM2OEVGOUYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OTFmNjIxNWItNjFkOC0zNjQzLTkyYTctMGZhODcxYWFmNTNiIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOmQxMmE5YzhmLThjZmQtNTI0Ny05YTcxLTlkMzdlMGZmYmUxNiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PnRozEYAAADjSURBVHja7Nk9DoQgEAVgEQ6gNsAhuP9BPISx8KeQEtjJkmyMydowG0n2TTVYTL6YQHwivPdNcaWUpmna9536ruustUKI8rGq4ah5npdlyT01JCNf+diWBbeu63m5bRvLWB5cCOFm+TDuRwUccMABBxxwwAEHHHD/iRPHceRUx/XhX15Sypwv1TnVVVL0mnK+bC+prp6ifFn3hhiGoU5Z3/dKax1jrHBDGGMEy4+ccRwvT5xzOISBAw444IADDjjggAMOuO+R5Gb5MO6SLynVsYzluan+5MvmfY1OqY5l7EuAAQDa/FPwQV7cCwAAAABJRU5ErkJggg=="},806:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3hpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpkMTJhOWM4Zi04Y2ZkLTUyNDctOWE3MS05ZDM3ZTBmZmJlMTYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MjAxODhERUQ1MzMzMTFFNzk0RkZFNDgxMzMyN0ZCOUMiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MjAxODhERUM1MzMzMTFFNzk0RkZFNDgxMzMyN0ZCOUMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5MWY2MjE1Yi02MWQ4LTM2NDMtOTJhNy0wZmE4NzFhYWY1M2IiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6ZDEyYTljOGYtOGNmZC01MjQ3LTlhNzEtOWQzN2UwZmZiZTE2Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+6dNudQAAAaFJREFUeNq8ls9OwkAQxtuH0CNy1qfwCAkWSEuRhGcwxoNP0WN5AyX6BHjSl/CqaVL+FQKJXGxaGGearWnL7pYiOMnvwmy+6X4zu4uqyKOEdJBL5Bw5QQLERRzkDXlCPpWCQcKPSIhADmu2trSr+BXytYNwlhVynSd+w74I9mSD3IrETbYA/siGaW15vjqAeNKuVE8eDige04/Fz0S+m6YJy+USxuMx1Ov1VK7VasFsNovI5hLTRdrKPU9cVVVYLBYQRxAEYBhGlOt2uxCG4W/O8zzRLkhbGYi2OZ1OIRlUxLbtlDiF67qiAqQdnUrugkajsSWWDd/3oVKpiAqQtvItaxZ5LSpC4pqmyRrt5xYger0et4BlWXmT5Est4jU025O48TKLXvaxJ1lEYtNAOKYEzXjWc7KlwBRFY1rmHTQ6B/P5nNtQsiVZZDgcig5aOT7Nfd4X6Loe7cJxHKhWq6lcs9mEyWQCo9EIarWa9Kr4l8uOon3A67p9zAfn7phPZqfIo9/fcTdrtpb76KsF/rZcIKfsdw95R16RZ+RDJPAjwACxqseZs3zV6AAAAABJRU5ErkJggg=="},808:function(t,e,i){function n(t){i(804)}var l=i(65)(i(802),i(810),n,null,null);t.exports=l.exports},810:function(t,e,i){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.showImg?n("transition",{attrs:{name:"fade"}},[n("div",{staticClass:"img-view",on:{click:t.hidden}},[n("div",{staticClass:"img-layer"}),t._v(" "),n("img",{attrs:{src:t.imgSrc}})])]):t._e(),t._v(" "),n("div",{staticClass:"zd-upload-wrapper",class:t.support?"":"zd-upload-none"},[t._l(t.imgArr,function(e,l){return n("div",{key:e.key,staticClass:"zd-upload-item"},[n("img",{attrs:{src:e.src},on:{click:function(i){t.bigImg(e.src)}}}),t._v(" "),e.uploading?n("div",{staticClass:"zd-upload-item-progress"},[n("i",{style:{width:e.progressingWidth+"rem"}})]):n("img",{staticClass:"zd-upload-item-del",attrs:{src:i(806)},on:{click:function(i){t.handleDel(l,e.key)}}})])}),t._v(" "),!0===t.getFull?n("div",{staticClass:"zd-upload-button",on:{click:t.handleAddClick}},[n("img",{staticClass:"zd-upload-button-add",attrs:{src:i(805)}}),t._v(" "),t._m(0),t._v(" "),n("p",{staticClass:"zd-upload-button-word zd-upload-button-word-s"},[n("span",[t._v(t._s("("+t.annotation+")"))])])]):t._e(),t._v(" "),n("form",{attrs:{id:"zd-upload-file-form-"+t.uploadId}},[n("input",{staticClass:"zd-upload-file-add",attrs:{type:"file",accept:"image/*",capture:!t.isIos&&"camera",id:"zd-upload-file-"+t.uploadId,multiple:t.isIos?!!t.multiple&&"multiple":"multiple"},on:{change:t.handleAddChange}})])],2)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"zd-upload-button-word"},[i("span",[t._v("照片/拍照")])])}]}},996:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(808),l=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default={components:{zdUpload:l.default},data:function(){return{uploadFormData:[]}},methods:{handleUpload:function(){console.log(this.uploadFormData);var t=new FormData;t.append("uploadType",1),t.append("uploadFileType",1),t.append("file",document.getElementById("file").files[0]),this.$http({url:"/api/test/postTest",method:"post",data:t}).then(function(t){}).catch(function(t){console.log(t)})}}}}});