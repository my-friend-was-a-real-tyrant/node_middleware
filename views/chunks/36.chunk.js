webpackJsonp([36],{1110:function(t,e){},1297:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{directives:[{name:"title",rawName:"v-title",value:"活动报名",expression:"'活动报名'"}],staticClass:"deliveryAddress-form"},[a("div",{staticClass:"deliveryAddress-form-item"},[a("span",[t._v("姓名")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.formData.name,expression:"formData.name",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"请输入姓名"},domProps:{value:t.formData.name},on:{input:function(e){e.target.composing||(t.formData.name=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),a("div",{staticClass:"deliveryAddress-form-item"},[a("span",[t._v("联系方式")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.formData.cellphone,expression:"formData.cellphone",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"请输入联系方式"},domProps:{value:t.formData.cellphone},on:{input:function(e){e.target.composing||(t.formData.cellphone=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),a("div",{staticClass:"deliveryAddress-form-item"},[a("span",[t._v("人数")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.formData.count,expression:"formData.count",modifiers:{trim:!0}}],attrs:{type:"number",placeholder:"请输入人数"},domProps:{value:t.formData.count},on:{input:function(e){e.target.composing||(t.formData.count=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),a("zdButton",{staticClass:"deliveryAddress-form-button",on:{click:t.handleEnroll}},[t._v("我要报名")])],1)},staticRenderFns:[]}},459:function(t,e,a){function n(t){a(1110)}var o=a(65)(a(978),a(1297),n,"data-v-b9a618ae",null);t.exports=o.exports},781:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{type:String,size:{type:String,default:"large"},disabled:Boolean},methods:{handleClick:function(t){null!=this.disabled&&!1!==this.disabled||this.$emit("click",t)}}}},782:function(t,e){},783:function(t,e,a){function n(t){a(782)}var o=a(65)(a(781),a(784),n,null,null);t.exports=o.exports},784:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"zd-button",class:[t.size?"zd-button-"+t.size:"",t.type?"zd-button-"+t.type:"",{"zd-button-disabled":t.disabled}],attrs:{disabled:t.disabled},on:{click:t.handleClick}},[a("span",[t._t("default")],2)])},staticRenderFns:[]}},794:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{active:{}},methods:{handleClick:function(t){this.$emit("click",t)}}}},797:function(t,e){},798:function(t,e,a){function n(t){a(797)}var o=a(65)(a(794),a(799),n,null,null);t.exports=o.exports},799:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("i",{staticClass:"zd-checkbox",class:{"zd-checkbox-active":t.active},on:{click:t.handleClick}})},staticRenderFns:[]}},978:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=a(783),i=n(o),r=a(798),s=n(r);e.default={components:{zdButton:i.default,zdCheckbox:s.default},data:function(){return{formData:{name:"",cellphone:"",count:1}}},computed:{isVisitor:function(){return this.$store.state.isVisitor},info:function(){return this.$store.state.info},formValidate:function(){if(""===this.formData.name||""===this.formData.address||""===this.formData.cellphone||""===this.formData.count||""===this.formData.sex)return"请将表单填写完整";var t=/^1(([3,8]\d)|(5[0-3,5-9])|(47)|(7[5-8]))(\d{8})$/,e=/^\d*$/;return!1===t.test(this.formData.cellphone)?"请填写正确的手机号":!1===e.test(this.formData.count)?"请填写正确的人数":!(this.formData.count<=0)||"请填写正确的人数"}},methods:{handleEnroll:function(t){var e=this;t.preventDefault(),!0!==this.formValidate?alert(this.formValidate):this.$http({url:"/api/system/service/activity/enrollActivity",data:{parkId:this.info.defaultParkId,roomId:this.info.defaultAddressId,id:this.$route.query.id,name:this.formData.name,cellphone:this.formData.cellphone,count:this.formData.count},method:"post"}).then(function(t){"00000"===t.data.code&&(e.$message("报名成功！"),e.$router.push("/service/activity"))}).catch(function(t){console.log(t)})}},mounted:function(){!0===this.isVisitor?this.$router.replace("/index"):(this.formData.name=this.info.userName,this.formData.cellphone=this.info.cellphone)}}}});