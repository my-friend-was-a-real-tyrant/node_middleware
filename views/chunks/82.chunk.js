webpackJsonp([82],{1123:function(t,e){},1143:function(t,e){t.exports="data:image/png;base64,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"},1312:function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"manageSystenIndex"},[a("div",{staticClass:"manageSystenIndex-head"},[a("div",{staticClass:"manageSystenIndex-title"},[t._v("个人工作台")]),t._v(" "),a("div",{staticClass:"manageSystenIndex-message"},[a("div",[t._m(0),t._v(" "),a("div",[a("ul",{staticClass:"manageSystenIndex-message-me"},[a("li",[t._v("姓名："+t._s(t.manageMessage.name))]),t._v(" "),a("li",[t._v("联系方式："+t._s(t.manageMessage.call))])]),t._v(" "),a("ul",{staticClass:"manageSystenIndex-message-job"},t._l(t.manageMessage.job,function(e,n){return a("li",{key:e},[t._v("\n                            职位："+t._s(1===t.manageMessage.identity||2===t.manageMessage.identity?"":t.manageMessage.depart[n]+"-")+t._s(e)+"\n                        ")])}))])]),t._v(" "),a("div",{staticClass:"manageSystenIndex-message-order"},[a("div",[a("h6",[t._v("未处理的订单")]),t._v(" "),a("ul",[a("li",{directives:[{name:"permit",rawName:"v-permit",value:1100,expression:"1100"}],on:{click:function(e){t.manageMessageOrderRun(0)}}},[a("p",[t._v("报修")]),t._v(" "),a("span",[t._v(t._s(t.repairmentCount))])]),t._v(" "),a("li",{directives:[{name:"permit",rawName:"v-permit",value:1300,expression:"1300"}],on:{click:function(e){t.manageMessageOrderRun(1)}}},[a("p",[t._v("报事")]),t._v(" "),a("span",[t._v(t._s(t.reportCount))])]),t._v(" "),a("li",{directives:[{name:"permit",rawName:"v-permit",value:1200,expression:"1200"}],on:{click:function(e){t.manageMessageOrderRun(2)}}},[a("p",[t._v("投诉")]),t._v(" "),a("span",[t._v(t._s(t.complaintCount))])])])])])])]),t._v(" "),a("div",{staticClass:"manageSystenIndex-chart"},[a("div",{directives:[{name:"permit",rawName:"v-permit",value:1100,expression:"1100"}],staticClass:"manageSystenIndex-barChart"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",slot:"header"},[a("span",{staticStyle:{"line-height":"36px"}},[t._v("报修满意度")]),t._v(" "),a("el-button",{staticStyle:{float:"right",background:"none",padding:"0"},attrs:{type:"primary"}},[a("el-row",{staticClass:"block-col-2"},[a("el-col",{attrs:{span:12}},[a("el-dropdown",{attrs:{trigger:"click"},on:{command:t.handleCommand}},[a("el-button",{attrs:{type:"primary",id:"manageDropTitle"}},[t._v("\n                                "+t._s(t.barYear)),a("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{staticStyle:{height:"200px",overflow:"auto"},slot:"dropdown"},t._l(t.mansgeDrop,function(e){return a("el-dropdown-item",{key:e,attrs:{command:""+e}},[t._v(t._s(e))])}))],1)],1)],1)],1)],1),t._v(" "),a("div",[a("div",{ref:"manageBar",staticClass:"manageSystenIndex-cirleChart-barPic"})])])],1),t._v(" "),a("div",{directives:[{name:"permit",rawName:"v-permit",value:-1,expression:"-1"}],staticClass:"manageSystenIndex-cirleChart"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",slot:"header"},[a("span",{staticStyle:{"line-height":"36px"}},[t._v("上报数量占比")]),t._v(" "),a("el-button",{staticStyle:{float:"right"},attrs:{type:2===t.bgC?"primary":""},on:{click:t.yearChange}},[t._v("当年")]),t._v(" "),a("el-button",{staticStyle:{float:"right"},attrs:{type:1===t.bgC?"primary":""},on:{click:t.monthChange}},[t._v("当月")])],1),t._v(" "),a("div",[a("div",{ref:"managePie",staticClass:"manageSystenIndex-cirleChart-piePic"})])])],1)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"manageSystenIndex-message-photo"},[n("img",{attrs:{src:a(1143),alt:""}})])}]}},371:function(t,e,a){function n(t){a(1123)}var i=a(65)(a(882),a(1312),n,"data-v-e2d00fbc",null);t.exports=i.exports},882:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{bgC:1,barYear:"",myBarCharts:"",command:"",nowYear:(new Date).getFullYear(),nowMonth:(new Date).getMonth()+1,myPieCharts:"",manageDepartShow:!1,mansgeDrop:[],mouthData:["1","2","3","4","5","6","7","8","9","10","11","12"],manageMessage:{src:"",name:"",call:"",depart:[],job:[],identity:""},repairmentCount:0,reportCount:0,complaintCount:0,manageMessageOrder:[{title:"报修",count:""},{title:"报事",count:""},{title:"投诉",count:""}]}},computed:{parkName:function(){return this.$store.state.info.parkName},isSuper:function(){return this.$store.state.isSuper},isParkManager:function(){return this.$store.state.isParkManager},permissions:function(){return this.$store.state.permissions}},methods:{handleCommand:function(t){this.command=t,this.barChart(t),this.barYear=t},getMyRepairmentCount:function(){return this.$http({method:"get",url:"/api/manageSystem/system/getMyRepairmentCount"})},getMyReportCount:function(){return this.$http({method:"get",url:"/api/manageSystem/system/getMyReportCount"})},getMyComplaintCount:function(){return this.$http({method:"get",url:"/api/manageSystem/system/getMyComplaintCount"})},getIndexInfo:function(){return this.$http({method:"get",url:"/api/manageSystem/system/getIndexInfo"})},getindexHeaderInfo:function(){var t=this;if(this.getIndexInfo().then(function(e){if("00000"===e.data.code&&(t.manageMessage.depart=e.data.department,t.manageMessage.name=e.data.userName,t.manageMessage.call=e.data.userCellphone,t.manageMessage.identity=e.data.identity,"1"==t.manageMessage.identity&&(t.manageMessage.job=["超级管理员"],t.manageDepartShow=!1),"2"==t.manageMessage.identity&&(t.manageMessage.job=["园区经理"],t.manageDepartShow=!1),"3"==t.manageMessage.identity)){t.manageMessage.job=[];for(var a in e.data.job)1==e.data.job[a]?t.manageMessage.job.push("经理"):2==e.data.job[a]&&t.manageMessage.job.push("员工");t.manageDepartShow=!0}}),this.isSuper||this.isParkManager)this.getMyRepairmentCount().then(function(e){"00000"===e.data.code&&(t.repairmentCount=e.data.count)}),this.getMyReportCount().then(function(e){"00000"===e.data.code&&(t.reportCount=e.data.count)}),this.getMyComplaintCount().then(function(e){"00000"===e.data.code&&(t.complaintCount=e.data.count)});else for(var e in this.permissions)1100===this.permissions[e]&&this.getMyRepairmentCount().then(function(e){"00000"===e.data.code&&(t.repairmentCount=e.data.count)}),1300===this.permissions[e]&&this.getMyReportCount().then(function(e){"00000"===e.data.code&&(t.reportCount=e.data.count)}),1200===this.permissions[e]&&this.getMyComplaintCount().then(function(e){"00000"===e.data.code&&(t.complaintCount=e.data.count)})},manageMessageOrderRun:function(t){0==t&&this.$router.push("/manageSystem/property/repairment"),1==t&&this.$router.push("/manageSystem/property/report"),2==t&&this.$router.push("/manageSystem/property/complaint")},pieChart:function(){var t=this;this.myPieCharts=this.$echarts.init(this.$refs.managePie);var e=this.myPieCharts._dom.getElementsByTagName("div")[0].style.width;window.addEventListener("resize",function(){t.myPieCharts.resize(),e=t.myPieCharts._dom.getElementsByTagName("div")[0].style.width,t.myPieCharts.setOption({graphic:{left:.3*parseInt(e)-45+"px",style:{}}})},!1);var a={backgroundColor:"#fff",tooltip:{trigger:"item",formatter:function(t){var e="";return"report"==t.data.name&&(e="报事"),"repair"==t.data.name&&(e="报修"),"complaint"==t.data.name&&(e="投诉"),t.seriesName+"<br>&nbsp&nbsp&nbsp&nbsp"+e+" : "+t.data.value}},legend:{show:!0,orient:"vertical",right:"5%",top:0,itemGap:10,formatter:function(t){return"complaint"===t&&(t="投诉"),"repair"===t&&(t="报修"),"report"===t&&(t="报事")," "+t+" | 0  0%"},data:["complaint","repair","report"],textStyle:{fontSize:12}},graphic:{type:"text",left:.3*parseInt(e)-40+"px",top:"center",style:{text:this.nowYear+"年"+this.nowMonth+"月份\n  总数：0",fontSize:14,fill:"#000"}},series:[{name:"上报数量",type:"pie",clockwise:!1,radius:["50%","75%"],center:["30%","center"],itemStyle:{normal:{borderWidth:10,borderColor:"#fff",label:{show:!1},labelLine:{show:!1}},emphasis:{}},data:[{value:0,name:"complaint"},{value:0,name:"repair"},{value:0,name:"report"}]}],color:["#6C99FC","#FA2C68","#FCCC6D"]};this.myPieCharts.setOption(a)},monthChange:function(){var t=this;this.isSuper&&this.$http({method:"get",url:"/api/manageSystem/system/getFunctionProportion",params:{type:2}}).then(function(e){if("00000"===e.data.code){t.bgC=1;t.pieMessage("mouth",e)}}).catch(function(t){console.log(t)})},yearChange:function(){var t=this;this.isSuper&&this.$http({method:"get",url:"/api/manageSystem/system/getFunctionProportion",params:{type:1}}).then(function(e){if("00000"===e.data.code){t.bgC=2;t.pieMessage("year",e)}}).catch(function(t){console.log(t)})},pieMessage:function(t,e){var a=e.data.data[0].complaint,n=e.data.data[1].repair,i=e.data.data[2].report,s=a+i+n,r=-1,o=[];this.myPieCharts.setOption({legend:{formatter:function(t){var a=0;r++;for(var n=0;n<3;n++)e.data.data[n][t]&&(a=e.data.data[n][t]);return"complaint"===t&&(t="投诉"),"repair"===t&&(t="报修"),"report"===t&&(t="报事"),0==s?" "+t+" | "+a+"  0%":(o[r]=r<2?(a/s*100).toFixed(2):(100-o[0]-o[1]).toFixed(2)," "+t+" | "+a+"  "+o[r]+"%")}},graphic:{style:{text:"mouth"===t?this.nowYear+"年"+this.nowMonth+"月份\n\n   总数："+s:this.nowYear+" 年\n\n   总数："+s}},series:[{data:[{value:e.data.data[0].complaint,name:"complaint"},{value:e.data.data[1].repair,name:"repair"},{value:e.data.data[2].report,name:"report"}]}]})},barChartSet:function(t){var e=this;this.myBarCharts=this.$echarts.init(this.$refs.manageBar);if(window.addEventListener("resize",function(){e.myBarCharts.resize()},!1),t)this.command=t,this.$http({method:"get",url:"/api/manageSystem/system/getRepairmentCsr",params:{year:t}}).then(function(a){if("00000"===a.data.code){var n=[],i=[],s=[],r=0,o=[];if(a.data.data.xMonthList)for(var m=0;m<12;m++){n[m]="",i[m]="",s[m]="";for(var g=0;g<12;g++)a.data.data.xMonthList[g]==m+1&&(n[m]=a.data.data.yCsr[g],i[m]=a.data.data.yCountList[g],s[m]=a.data.data.yPleasedNumList[g],r++,0==n[m]&&o.push(m))}else for(var h=0;h<12;h++)n[h]="";var d={xAxis:{data:e.mouthData,boundaryGap:!1,nameGap:20,axisLabel:{interval:0,formatter:function(t){return t+"\n月份"},textStyle:{fontSize:16}},axisTick:{show:!1},axisLine:{show:!1},axisPointer:{show:!0}},yAxis:{show:!1},grid:[{x:"5%",y:"20%",width:"90%",height:"55%"}],tooltip:{formatter:function(e){if(!e[0])return t+"-"+e.name+" 满意："+s[e.dataIndex]+" 总数："+i[e.dataIndex];for(var a=0;a<o.length;a++)return e[0].dataIndex==o[a]?t+"-"+e[0].name:t+"-"+e[0].name+" 满意："+s[e[0].dataIndex]+" 总数："+i[e[0].dataIndex]}},series:[{name:"报修满意度",type:"bar",barWidth:24,barGap:"20%",itemStyle:{normal:{label:{formatter:function(t){return n[t.dataIndex]+"%"}}}},data:n}]};e.myBarCharts.setOption(d)}}).catch(function(t){console.log(t)});else{t=2017;var a={xAxis:{data:this.mouthData,boundaryGap:!1,nameGap:20,axisLabel:{interval:0,formatter:function(t){return t+"\n月份"},textStyle:{fontSize:16}},axisTick:{show:!1},axisLine:{show:!1},axisPointer:{show:!0}},yAxis:{show:!1},grid:[{x:"5%",y:"20%",width:"90%",height:"55%"}],series:[{name:"报修满意度",type:"bar",barWidth:24,barGap:"20%",itemStyle:{normal:{color:"#38A0FC",label:{show:!0,position:"top",textStyle:{fontSize:12,color:"#333333"},formatter:function(){}}}},data:[]}]};this.myBarCharts.setOption(a)}},barChart:function(t){if(this.isSuper||this.isParkManager)this.barChartSet(t);else for(var e=0;e<this.permissions.length;e++)1100===this.permissions[e]&&this.barChartSet(t)}},watch:{parkName:function(){this.barChart(this.command),this.monthChange(),this.getindexHeaderInfo()}},mounted:function(){this.handleCommand(2018),this.pieChart(),this.barChart(),this.monthChange();for(var t=0,e=this.nowYear;e>2007;e--)this.mansgeDrop[t]=e,t++;this.getindexHeaderInfo()}}}});