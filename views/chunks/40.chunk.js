webpackJsonp([40],{1097:function(t,e){},1281:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("form",{directives:[{name:"title",rawName:"v-title",value:"添加收货地址",expression:"'添加收货地址'"}],staticClass:"deliveryAddress-form"},[i("div",{staticClass:"deliveryAddress-form-item"},[i("span",[t._v("收货人")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.formData.name,expression:"formData.name",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"请输入收货人"},domProps:{value:t.formData.name},on:{input:function(e){e.target.composing||(t.formData.name=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),i("div",{staticClass:"deliveryAddress-form-item"},[i("span",[t._v("联系电话")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.formData.cellphone,expression:"formData.cellphone",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"请输入联系电话"},domProps:{value:t.formData.cellphone},on:{input:function(e){e.target.composing||(t.formData.cellphone=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),i("div",{staticClass:"deliveryAddress-form-item"},[i("span",[t._v("省")]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.formData.provinceId,expression:"formData.provinceId"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.formData.provinceId=e.target.multiple?i:i[0]}}},[i("option",{attrs:{value:""}},[t._v("请选择")]),t._v(" "),t._l(t.provinceList,function(e){return i("option",{key:e.provinceId,domProps:{value:e.provinceId}},[t._v(t._s(e.provinceName))])})],2),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.chooseProvince,expression:"chooseProvince"}],attrs:{type:"text",placeholder:"请选择省",readonly:"readonly"},domProps:{value:t.chooseProvince},on:{input:function(e){e.target.composing||(t.chooseProvince=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"deliveryAddress-form-item"},[i("span",[t._v("市")]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.formData.cityId,expression:"formData.cityId"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.formData.cityId=e.target.multiple?i:i[0]}}},[i("option",{attrs:{value:""}},[t._v("请选择")]),t._v(" "),t._l(t.cityList,function(e){return i("option",{key:e.cityId,domProps:{value:e.cityId}},[t._v(t._s(e.cityName))])})],2),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.chooseCity,expression:"chooseCity"}],attrs:{type:"text",placeholder:"请选择市",readonly:"readonly"},domProps:{value:t.chooseCity},on:{input:function(e){e.target.composing||(t.chooseCity=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"deliveryAddress-form-item"},[i("span",[t._v("区")]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.formData.districtId,expression:"formData.districtId"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.formData.districtId=e.target.multiple?i:i[0]}}},[i("option",{attrs:{value:""}},[t._v("请选择")]),t._v(" "),t._l(t.districtList,function(e){return i("option",{key:e.districtId,domProps:{value:e.districtId}},[t._v(t._s(e.districtName))])})],2),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.chooseDistrict,expression:"chooseDistrict"}],attrs:{type:"text",placeholder:"请选择区",readonly:"readonly"},domProps:{value:t.chooseDistrict},on:{input:function(e){e.target.composing||(t.chooseDistrict=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"deliveryAddress-form-item"},[i("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.formData.address,expression:"formData.address",modifiers:{trim:!0}}],attrs:{placeholder:"请输入详细地址"},domProps:{value:t.formData.address},on:{input:function(e){e.target.composing||(t.formData.address=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),i("div",{staticClass:"deliveryAddress-form-item"},[i("span",[t._v("设为常用")]),t._v(" "),i("zdCheckbox",{attrs:{active:t.formData.isFrequent},on:{click:t.handleClickFrequent}})],1),t._v(" "),i("zdButton",{staticClass:"deliveryAddress-form-button",on:{click:t.handleAddAddress}},[t._v("保存")])],1)},staticRenderFns:[]}},443:function(t,e,i){function r(t){i(1097)}var o=i(65)(i(959),i(1281),r,"data-v-804fc088",null);t.exports=o.exports},781:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{type:String,size:{type:String,default:"large"},disabled:Boolean},methods:{handleClick:function(t){null!=this.disabled&&!1!==this.disabled||this.$emit("click",t)}}}},782:function(t,e){},783:function(t,e,i){function r(t){i(782)}var o=i(65)(i(781),i(784),r,null,null);t.exports=o.exports},784:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{staticClass:"zd-button",class:[t.size?"zd-button-"+t.size:"",t.type?"zd-button-"+t.type:"",{"zd-button-disabled":t.disabled}],attrs:{disabled:t.disabled},on:{click:t.handleClick}},[i("span",[t._t("default")],2)])},staticRenderFns:[]}},794:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{active:{}},methods:{handleClick:function(t){this.$emit("click",t)}}}},797:function(t,e){},798:function(t,e,i){function r(t){i(797)}var o=i(65)(i(794),i(799),r,null,null);t.exports=o.exports},799:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("i",{staticClass:"zd-checkbox",class:{"zd-checkbox-active":t.active},on:{click:t.handleClick}})},staticRenderFns:[]}},959:function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(783),a=r(o),s=i(798),n=r(s);e.default={components:{zdButton:a.default,zdCheckbox:n.default},data:function(){return{provinceList:[],cityList:[],districtList:[],formData:{name:"",cellphone:"",provinceId:"",cityId:"",districtId:"",address:"",isFrequent:!1}}},computed:{isVisitor:function(){return this.$store.state.isVisitor},chooseProvince:function(){for(var t=0;t<this.provinceList.length;t++)if(this.provinceList[t].provinceId===this.formData.provinceId)return this.provinceList[t].provinceName;return""},chooseCity:function(){for(var t=0;t<this.cityList.length;t++)if(this.cityList[t].cityId===this.formData.cityId)return this.cityList[t].cityName;return""},chooseDistrict:function(){for(var t=0;t<this.districtList.length;t++)if(this.districtList[t].districtId===this.formData.districtId)return this.districtList[t].districtName;return""},formValidate:function(){return""===this.formData.name||""===this.formData.cellphone||""===this.formData.provinceId||""===this.formData.cityId||""===this.formData.districtId||""===this.formData.address?(console.log(this.formData),"请将表单填写完整"):!1!==/^1(([3,8]\d)|(5[0-3,5-9])|(47)|(7[5-8]))(\d{8})$/.test(this.formData.cellphone)||"请填写正确的手机号"}},methods:{getProvinceList:function(){var t=this;this.$http({url:"/api/common/getProvinceList"}).then(function(e){"00000"===e.data.code&&(t.provinceList=e.data.provinceList)}).catch(function(t){console.log(t)})},getCityList:function(t){var e=this;this.$http({url:"/api/common/getCityList",params:{provinceId:t}}).then(function(t){"00000"===t.data.code&&(e.cityList=t.data.cityList)}).catch(function(t){console.log(t)})},getDistrictList:function(t){var e=this;this.$http({url:"/api/common/getDistrictList",params:{cityId:t}}).then(function(t){"00000"===t.data.code&&(e.districtList=t.data.districtList)}).catch(function(t){console.log(t)})},handleClickFrequent:function(){this.formData.isFrequent=!this.formData.isFrequent},handleAddAddress:function(t){var e=this;t.preventDefault(),!0!==this.formValidate?alert(this.formValidate):this.$http({url:"/api/common/addDeliveryAddress",method:"post",data:{name:this.formData.name,cellphone:this.formData.cellphone,districtId:this.formData.districtId,address:this.formData.address,isFrequent:this.formData.isFrequent?1:0}}).then(function(t){"00000"===t.data.code&&(e.$message("添加成功"),e.$router.replace("/person/myDeliveryAddress"))}).catch(function(t){console.log(t)})}},mounted:function(){!0===this.isVisitor?this.$router.replace("/index/visitorPerson"):this.getProvinceList()},watch:{"formData.provinceId":function(){this.formData.cityId="",this.formData.districtId="",this.cityList=[],this.districtList=[],""!==this.formData.provinceId&&this.getCityList(this.formData.provinceId)},"formData.cityId":function(){this.formData.districtId="",this.districtList=[],""!==this.formData.cityId&&this.getDistrictList(this.formData.cityId)}}}}});