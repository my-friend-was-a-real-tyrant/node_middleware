webpackJsonp([78],{1061:function(t,a){},1062:function(t,a){},1246:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"proDetail"},[e("div",{staticClass:"proDetail-head"},[e("div",{staticClass:"proDetail-head-title"},[t._v("\n      明细 \n    ")]),t._v(" "),e("div",{staticClass:"proDetail-head-choseTime"},[e("div",[e("div",{staticClass:"proDetail-block"},[e("span",{staticClass:"demonstration"},[t._v("选择日期：")]),t._v(" "),e("el-date-picker",{attrs:{type:"month",placeholder:"开始时间"},on:{change:t.startChange},model:{value:t.monthstart,callback:function(a){t.monthstart=a},expression:"monthstart"}}),t._v("\n          至\n          "),e("el-date-picker",{attrs:{type:"month",placeholder:"结束时间"},on:{change:t.endChange},model:{value:t.monthend,callback:function(a){t.monthend=a},expression:"monthend"}})],1)])])]),t._v(" "),e("div",{staticClass:"proDetail-address"},[t._v("\n    "+t._s(t.$store.state.info.parkName)+"\n  ")]),t._v(" "),e("div",{staticClass:"proDetail-table"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:""}},[e("el-table-column",{attrs:{prop:"billYear",label:"年份",width:"120"}}),t._v(" "),e("el-table-column",{attrs:{prop:"billMonth",label:"月份",width:"120"}}),t._v(" "),e("el-table-column",{attrs:{prop:"cost",label:"物业费",width:"120"}}),t._v(" "),e("el-table-column",{attrs:{prop:"costType",label:"缴纳情况",width:"120"}}),t._v(" "),e("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"proDetail-table-operate",on:{click:function(e){t.editShow(a.row.id)}}},[t._v("编辑")])]}}])})],1),t._v(" "),e("div",{staticClass:"proDetail-table-page"},[e("el-pagination",{attrs:{"current-page":t.pageData.currentPage,"page-sizes":[10,20,50,100],"page-size":t.pageData.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.pageData.totalSize},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.diashow,expression:"diashow"}],staticClass:"proDetail-dia"},[e("div",{staticClass:"proDetail-dia-con"},[e("div",{staticClass:"proDetail-dia-con-title"},[t._v("\n        编辑\n      ")]),t._v(" "),e("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm2,rules:t.rules2,"label-width":"100px"}},[e("div",{staticClass:"proDetail-dia-con-pay"},[e("el-form-item",{attrs:{label:"物业费：",prop:"cost"}},[e("el-input",{model:{value:t.ruleForm2.cost,callback:function(a){t.ruleForm2.cost=t._n(a)},expression:"ruleForm2.cost"}})],1),t._v(" "),e("span",[t._v("元")])],1),t._v(" "),e("div",{staticClass:"proDetail-dia-con-status"},[e("span",[t._v("状态：")]),t._v(" "),e("el-radio-group",{model:{value:t.radio2,callback:function(a){t.radio2=a},expression:"radio2"}},[e("el-radio",{attrs:{label:2}},[t._v("已缴")]),t._v(" "),e("el-radio",{attrs:{label:1}},[t._v("未缴")])],1)],1),t._v(" "),e("div",{staticClass:"proDetail-dia-con-btn"},[e("el-button",{attrs:{type:"primary"},on:{click:function(a){t.submitForm("ruleForm2")}}},[t._v("确定")]),t._v(" "),e("el-button",{attrs:{type:"danger"},on:{click:function(a){t.cancel()}}},[t._v("取消")])],1)])],1)])])},staticRenderFns:[]}},405:function(t,a,e){function n(t){e(1061),e(1062)}var o=e(65)(e(917),e(1246),n,"data-v-5533ccf9",null);t.exports=o.exports},917:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={data:function(){return{id:"",cost:"",timerange:"",monthend:"",monthendform:"",monthstart:"",monthstartform:"",address:"新东方国际科技中心",radio2:2,diashow:!1,tableData:[],pageData:{currentPage:1,totalSize:0,pageSize:10},ruleForm2:{cost:""},rules2:{cost:[{validator:function(t,a,e){if(!a)return e(new Error("物业费不能为空"));Number(a)?a<0?e(new Error("请输入正数")):e():e(new Error("请输入数字值"))},trigger:"blur"}]}}},methods:{editShow:function(t){this.diashow=!0,this.id=t},submitForm:function(t){var a=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;a.$http({url:"/api/manageSystem/system/property/payment/propertyDetailEdit",method:"post",data:{id:a.id,costType:a.radio2,cost:a.ruleForm2.cost}}).then(function(t){"00000"===t.data.code&&(a.ajaxFun(),a.diashow=!1)}).catch(function(t){console.log(t)})})},cancel:function(){this.diashow=!1},startChange:function(){this.monthstartform=this.monthstart.getFullYear()+"-"+(this.monthstart.getMonth()+1)+"-1",this.monthend&&this.monthstart&&this.monthend.getTime()<=this.monthstart.getTime()&&(this.$message("开始时间应早于结束时间"),this.monthstart="",this.monthstartform=""),this.monthstartform&&this.monthendform&&this.ajaxFun(1)},endChange:function(){this.monthendform=this.monthend.getFullYear()+"-"+(this.monthend.getMonth()+1)+"-1",this.monthend&&this.monthstart&&this.monthend.getTime()<=this.monthstart.getTime()&&(this.$message("结束时间应晚于开始时间"),this.monthend="",this.monthendform=""),this.monthstartform&&this.monthendform&&this.ajaxFun(1)},handleSizeChange:function(t){this.pageData.pageSize=t},handleCurrentChange:function(t){this.pageData.currentPage=t},ajaxFun:function(t){var a=this;this.$http({url:"/api/manageSystem/system/property/payment/propertyDetail",methods:"get",params:{roomId:this.$route.query.roomId,pageNumber:t?1:this.pageData.currentPage,pageSize:t?10:this.pageData.pageSize,start:this.monthstartform,end:this.monthendform}}).then(function(t){"00000"===t.data.code&&(a.tableData=t.data.data.returnData.list,a.pageData.totalSize=t.data.data.returnData.total)}).catch(function(t){console.log(t)})}},mounted:function(){this.ajaxFun()},computed:{},watch:{"pageData.currentPage":function(){this.ajaxFun()},"pageData.pageSize":function(){this.ajaxFun()}}}}});