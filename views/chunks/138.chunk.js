webpackJsonp([138],{1307:function(a,e){a.exports={render:function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"contain-main"},[t("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[t("el-form-item",[t("el-input",{attrs:{size:"small",icon:"my-addressbook_fill",placeholder:"员工姓名"},model:{value:a.formData.managerName,callback:function(e){a.formData.managerName=e},expression:"formData.managerName"}})],1),a._v(" "),t("el-form-item",[t("el-input",{attrs:{size:"small",icon:"my-mobile",placeholder:"员工手机号"},model:{value:a.formData.managerCellphone,callback:function(e){a.formData.managerCellphone=e},expression:"formData.managerCellphone"}})],1),a._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary",icon:"search",size:"small"},on:{click:a.searchFun}},[a._v("搜索")])],1),a._v(" "),t("el-form-item",[t("el-button",{directives:[{name:"permit",rawName:"v-permit",value:301,expression:"301"}],attrs:{type:"primary",size:"small"},on:{click:a.handleAddManagerRoute}},[a._v("添加次级管理员")])],1)],1),a._v(" "),t("el-table",{staticStyle:{width:"100%"},attrs:{stripe:"",data:a.tableData}},[t("el-table-column",{attrs:{prop:"realName",label:"姓名","min-width":"150"}}),a._v(" "),t("el-table-column",{attrs:{prop:"cellphone",label:"联系方式","min-width":"150"}}),a._v(" "),t("el-table-column",{attrs:{prop:"locked",label:"状态","min-width":"120"}}),a._v(" "),t("el-table-column",{attrs:{label:"操作","min-width":"280"},scopedSlots:a._u([{key:"default",fn:function(e){return[t("el-button",{attrs:{type:"primary",size:"small",icon:"search"},on:{click:function(t){a.handleManagerInfo(e.row)}}},[a._v("详情")]),a._v(" "),t("el-button",{directives:[{name:"permit",rawName:"v-permit",value:302,expression:"302"}],attrs:{type:"primary",size:"small",icon:"edit"},on:{click:function(t){a.handleEditManager(e.row)}}},[a._v("编辑")])]}}])})],1),a._v(" "),t("div",[t("div",{staticClass:"contain-bottom-pagination"},[t("el-pagination",{staticClass:"fr",attrs:{layout:"sizes, total, prev, pager, next, jumper","current-page":a.pageData.currentPage,total:a.pageData.totalSize,"page-sizes":[10,20,50,100],"page-size":a.pageData.pageSize},on:{"size-change":a.handleSizeChange,"current-change":a.handleCurrentChange}})],1)])],1)},staticRenderFns:[]}},421:function(a,e,t){var n=t(65)(t(933),t(1307),null,null,null);a.exports=n.exports},933:function(a,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{formData:{managerName:"",managerCellphone:""},sendData:{managerName:"",managerCellphone:""},tableData:[],pageData:{currentPage:void 0!==this.$route.query.currentPage?parseInt(this.$route.query.currentPage):1,totalSize:1,pageSize:10}}},methods:{watchQueryFun:function(){this.$route.query.currentPage?this.pageData.currentPage=parseInt(this.$route.query.currentPage):this.pageData.currentPage=1,this.ajaxFun()},ajaxFun:function(){var a=this;this.$http({url:"/api/manageSystem/system/getSecondaryAdminList",params:{pageNo:this.pageData.currentPage,pageSize:this.pageData.pageSize}}).then(function(e){"00000"===e.data.code&&(a.pageData.totalSize=e.data.data.total,a.tableData=e.data.data.list,a.tableData.forEach(function(a){a.locked=1==a.locked?"冻结":"未冻结"}))}).catch(function(a){console.log(a)})},handleSizeChange:function(a){this.pageData.pageSize=a,this.$route.query.currentPage?this.$router.push({path:"/manageSystem/system/submanager"}):this.$router.push({path:"/manageSystem/system/submanager",query:{currentPage:1}})},handleCurrentChange:function(a){this.$router.push({path:"/manageSystem/system/submanager",query:{currentPage:a}})},searchFun:function(){var a=this;this.$http({url:"/api/manageSystem/system/getSecondaryAdminList",params:{pageNo:this.pageData.currentPage,pageSize:this.pageData.pageSize,managerName:this.formData.managerName,managerCellphone:this.formData.managerCellphone}}).then(function(e){"00000"===e.data.code&&(a.pageData.totalSize=e.data.data.total,a.tableData=e.data.data.list,a.tableData.forEach(function(a){a.locked=1==a.locked?"冻结":"未冻结"}))}).catch(function(a){console.log(a)})},handleAddManagerRoute:function(){this.$router.push("/manageSystem/system/submanager/addSubManager")},handleManagerInfo:function(a){this.$router.push({path:"/manageSystem/system/submanager/submanagerInfo",query:{managerId:a.id,managerName:a.realName,managerCellphone:a.cellphone,status:a.locked}})},handleEditManager:function(a){this.$router.push({path:"/manageSystem/system/submanager/editSubManager",query:{managerId:a.id,managerName:a.realName,managerCellphone:a.cellphone,isLocked:"冻结"==a.locked}})}},mounted:function(){this.watchQueryFun()},watch:{"$route.query.currentPage":function(){this.watchQueryFun()}}}}});