webpackJsonp([23],{1031:function(t,e){},1211:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"title",rawName:"v-title",value:"我的家庭",expression:"'我的家庭'"}],staticClass:"myFamily-wrapper"},[a("div",{staticClass:"myFamily-info"},[a("div",{staticClass:"myFamily-info-address"},[a("p",{staticClass:"myFamily-info-address-word"},[t._v(t._s(t.info.defaultAddressName))]),t._v(" "),a("button",{staticClass:"myFamily-info-address-change",on:{click:t.handleChangeHouse}},[t._v("切换")])]),t._v(" "),a("div",{staticClass:"myFamily-info-other"},[a("div",{staticClass:"myFamily-info-other-item"},[a("p",{staticClass:"myFamily-info-other-item-contain"},[t._v(t._s(1===t.info.identity?"户主":2===t.info.identity?"家属":"租客"))]),t._v(" "),a("p",{staticClass:"myFamily-info-other-item-title"},[t._v("我的身份")])]),t._v(" "),a("div",{staticClass:"myFamily-info-other-item"},[a("p",{staticClass:"myFamily-info-other-item-contain"},[t._v(t._s(t.memberCount))]),t._v(" "),a("p",{staticClass:"myFamily-info-other-item-title"},[t._v("当前房屋人数")])])])]),t._v(" "),1===t.info.identity||!0===t.info.isAgent?a("div",{staticClass:"myFamily-member"},[a("zdTabs",{ref:"tabs",on:{changeTabName:t.changeTabName}},[a("zdTabsView",{attrs:{label:"待审核",name:"001"}},[a("ul",t._l(t.waitedAuditList,function(e){return a("li",{key:e.userId,staticClass:"myFamily-member-tabs-item",on:{click:function(a){t.handleMemberInfo(e,2)}}},[a("ul",{staticClass:"myFamily-member-tabs-left"},[a("li",[t._v("姓名："+t._s(e.realName))]),t._v(" "),a("li",[t._v("手机："+t._s(e.cellphone))]),t._v(" "),a("li",[t._v("身份："+t._s(2===e.identity?"家属":"租户"))])]),t._v(" "),a("div",{staticClass:"myFamily-member-tabs-right"},[a("span",[t._v("详情")]),t._v(" "),a("i",{staticClass:"icon"})])])}))]),t._v(" "),a("zdTabsView",{attrs:{label:"已审核",name:"002"}},[a("ul",t._l(t.alreadyAuditedList,function(e){return a("li",{key:e.userId,staticClass:"myFamily-member-tabs-item"},[a("ul",{staticClass:"myFamily-member-tabs-left"},[a("li",[t._v("姓名："+t._s(e.realName))]),t._v(" "),a("li",[t._v("手机："+t._s(e.cellphone))]),t._v(" "),a("li",[t._v("身份："+t._s(2===e.identity?"家属":"租户"))])]),t._v(" "),a("div",{staticClass:"myFamily-member-tabs-right"},[a("span",[t._v(t._s(2===e.status?"审核通过":1===e.status?"待审核":"已拒绝"))])])])}))]),t._v(" "),a("zdTabsView",{attrs:{label:"该房屋成员",name:"003"}},[a("ul",t._l(t.memberList,function(e){return a("li",{key:e.userId,staticClass:"myFamily-member-tabs-item",on:{click:function(a){t.handleMemberInfo(e)}}},[a("img",{staticClass:"myFamily-member-tabs-headimg",attrs:{src:e.avatar}}),t._v(" "),a("span",[t._v(t._s(e.realName))]),t._v(" "),a("span",{staticClass:"myFamily-member-tabs-word-s"},[t._v(t._s(e.theResponsible?"(代理人)":""))]),t._v(" "),a("span",[t._v(t._s(1===e.identity?"户主":2===e.identity?"家属":"租户"))]),t._v(" "),a("i",{staticClass:"icon"})])}))])],1)],1):a("div",{staticClass:"myFamily-member"},[a("ul",t._l(t.agentList,function(e){return a("li",{key:e.userId,staticClass:"myFamily-member-tabs-item",on:{click:function(a){t.handleMemberInfo(e)}}},[a("img",{staticClass:"myFamily-member-tabs-headimg",attrs:{src:e.avatar}}),t._v(" "),a("span",{staticClass:"myFamily-member-tabs-word"},[t._v(t._s(e.realName))]),t._v(" "),a("span",[t._v(t._s(1===e.identity?"户主":2===e.identity?"家属(代理人)":"租户(代理人)"))]),t._v(" "),a("i",{staticClass:"icon"})])}))]),t._v(" "),a("div",{staticClass:"myFamily-bottom"},[a("div",{staticClass:"myFamily-bottom-item",on:{click:t.handleInviteMember}},[a("span",[t._v("邀请家庭成员")])]),t._v(" "),a("div",{staticClass:"myFamily-bottom-item",on:{click:t.handleAddHouse}},[a("span",[t._v("添加房屋")])])])])},staticRenderFns:[]}},237:function(t,e,a){function i(t){a(1031)}var s=a(65)(a(961),a(1211),i,"data-v-2f6a3d92",null);t.exports=s.exports},786:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{nav:[]}},computed:{activeName:function(){return this.$route.params.tabName}},methods:{handleClick:function(t){this.$emit("changeTabName",[t])},activeNameChange:function(){for(var t=!1,e=0;e<this.$slots.default.length;e++)if(this.$slots.default[e].elm.nodeType&&1===this.$slots.default[e].elm.nodeType){if(!0===this.$slots.default[e].componentInstance.active){if(this.$slots.default[e].componentInstance.active=!1,!1!==t)break;t=!0}if(this.$slots.default[e].componentInstance.name===this.activeName){if(this.$slots.default[e].componentInstance.active=!0,!1!==t)break;t=!0}}},tipsNumberChange:function(t,e){this.nav[t].tips=e}},mounted:function(){for(var t=0;t<this.$slots.default.length;t++)1===this.$slots.default[t].elm.nodeType&&this.nav.push({label:this.$slots.default[t].componentInstance.label,name:this.$slots.default[t].componentInstance.name,tips:0});this.$route.params.tabName||this.handleClick(this.nav[0].name),this.activeNameChange(),this.$watch("activeName",function(){this.activeNameChange()})}}},787:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{label:{type:String,required:!0},name:{type:String,required:!0},activeName:String},data:function(){return{active:!1}}}},788:function(t,e){},789:function(t,e){},790:function(t,e,a){function i(t){a(789)}var s=a(65)(a(786),a(793),i,null,null);t.exports=s.exports},791:function(t,e,a){function i(t){a(788)}var s=a(65)(a(787),a(792),i,null,null);t.exports=s.exports},792:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"zd-tabs-views",class:t.active?"zd-tabs-views-active":""},[t._t("default")],2)},staticRenderFns:[]}},793:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"zd-tabs-wrapper"},[a("div",{staticClass:"zd-tabs-nav-wrapper"},t._l(t.nav,function(e){return a("div",{key:e.name,staticClass:"zd-tabs-nav-item",class:t.activeName===e.name?"zd-tabs-nav-item-active":"",on:{click:function(a){t.handleClick(e.name)}}},[a("span",{staticClass:"zd-tabs-nav-item-words"},[t._v(t._s(e.label)),e.tips>0?a("i",{staticClass:"zd-tabs-nav-item-tips"},[t._v(t._s(e.tips<=99?e.tips:99))]):t._e()])])})),t._v(" "),t._t("default")],2)},staticRenderFns:[]}},961:function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=a(790),n=i(s),l=a(791),m=i(l);e.default={components:{zdTabs:n.default,zdTabsView:m.default},data:function(){return{memberCount:0,waitedAuditList:[],alreadyAuditedList:[],memberList:[],agentList:[]}},computed:{isVisitor:function(){return this.$store.state.isVisitor},info:function(){return this.$store.state.info}},methods:{changeTabName:function(t){this.$router.replace("/person/myFamily/tab/"+t)},handleChangeHouse:function(){this.$router.push("/person/myFamily/changeDefaultHouse/myFamily")},handleAddHouse:function(){this.$router.push("/person/myFamily/addHouse")},handleMemberInfo:function(t,e){var a="/person/myFamily/familyMemberInfo/"+(1===this.info.identity||this.info.isAgent?"host":"tenant");this.$router.push({path:a,query:{id:t.id,auditStatus:e}})},handleInviteMember:function(){this.$router.push("/person/myFamily/inviteMember")}},mounted:function(){var t=this;!0===this.isVisitor?this.$router.replace("/index/visitorPerson"):this.$http({url:"/api/system/personalCenter/getMyFamilyInfo",params:{roomId:this.info.defaultAddressId}}).then(function(e){"00000"===e.data.code&&(t.memberCount=e.data.data.memberCount,!0===e.data.data.theResponsible||1===e.data.data.identity?(t.waitedAuditList=e.data.data.waitedList,t.alreadyAuditedList=e.data.data.auditedList,t.memberList=e.data.data.memberList,t.$refs.tabs.tipsNumberChange(0,t.waitedAuditList.length)):t.agentList=e.data.data.responsibleList)}).catch(function(t){console.log(t)})}}}});