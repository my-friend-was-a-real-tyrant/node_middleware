webpackJsonp([139],{1291:function(e,a){e.exports={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"contain-main"},[t("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[t("el-form-item",[t("el-input",{attrs:{size:"small",icon:"my-addressbook_fill",placeholder:"员工姓名"},model:{value:e.formData.managerName,callback:function(a){e.formData.managerName=a},expression:"formData.managerName"}})],1),e._v(" "),t("el-form-item",[t("el-input",{attrs:{size:"small",icon:"my-mobile",placeholder:"员工手机号"},model:{value:e.formData.managerCellphone,callback:function(a){e.formData.managerCellphone=a},expression:"formData.managerCellphone"}})],1),e._v(" "),t("el-form-item",[t("el-select",{attrs:{size:"small",placeholder:"部门"},model:{value:e.formData.department,callback:function(a){e.formData.department=a},expression:"formData.department"}},[t("el-option",{attrs:{value:"",label:"全部部门"}}),e._v(" "),e._l(e.departmentList,function(e){return t("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})})],2)],1),e._v(" "),t("el-form-item",[t("el-select",{attrs:{size:"small",placeholder:"职位"},model:{value:e.formData.job,callback:function(a){e.formData.job=a},expression:"formData.job"}},[t("el-option",{attrs:{value:"",label:"全部职位"}}),e._v(" "),t("el-option",{attrs:{value:3,label:"园区经理"}}),e._v(" "),t("el-option",{attrs:{value:1,label:"经理"}}),e._v(" "),t("el-option",{attrs:{value:2,label:"员工"}})],1)],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary",icon:"search",size:"small"},on:{click:e.searchFun}},[e._v("搜索")])],1),e._v(" "),t("el-form-item",[t("el-button",{directives:[{name:"permit",rawName:"v-permit",value:301,expression:"301"}],attrs:{type:"primary",size:"small"},on:{click:e.handleAddManagerRoute}},[e._v("添加员工")])],1)],1),e._v(" "),t("el-table",{staticStyle:{width:"100%"},attrs:{stripe:"",data:e.tableData}},[t("el-table-column",{attrs:{prop:"departmentName",label:"部门","min-width":"120"}}),e._v(" "),t("el-table-column",{attrs:{prop:"job",label:"职位","min-width":"120"}}),e._v(" "),t("el-table-column",{attrs:{prop:"managerName",label:"姓名","min-width":"150"}}),e._v(" "),t("el-table-column",{attrs:{prop:"managerCellphone",label:"联系方式","min-width":"150"}}),e._v(" "),t("el-table-column",{attrs:{prop:"isLocked",label:"状态","min-width":"120"}}),e._v(" "),t("el-table-column",{attrs:{label:"操作","min-width":"280"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"primary",size:"small",icon:"search"},on:{click:function(t){e.handleManagerInfo(a.row)}}},[e._v("详情")]),e._v(" "),t("el-button",{directives:[{name:"permit",rawName:"v-permit",value:302,expression:"302"}],attrs:{type:"primary",size:"small",icon:"edit"},on:{click:function(t){e.handleEditManager(a.row)}}},[e._v("编辑")]),e._v(" "),t("el-button",{directives:[{name:"permit",rawName:"v-permit",value:304,expression:"304"}],attrs:{disabled:a.row.isParkManager,size:"small",icon:"my-businesscard"},on:{click:function(t){e.handleEditManagerDepartment(a.row)}}},[e._v("分配部门")])]}}])})],1),e._v(" "),t("div",[t("div",{staticClass:"contain-bottom-pagination"},[t("el-pagination",{staticClass:"fr",attrs:{layout:"sizes, total, prev, pager, next, jumper","current-page":e.pageData.currentPage,total:e.pageData.totalSize,"page-sizes":[10,20,50,100],"page-size":e.pageData.pageSize},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])],1)},staticRenderFns:[]}},386:function(e,a,t){var n=t(65)(t(897),t(1291),null,null,null);e.exports=n.exports},897:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={data:function(){return{departmentList:[],formData:{managerName:"",managerCellphone:"",job:"",department:""},sendData:{managerName:"",managerCellphone:"",job:"",department:""},tableData:[],pageData:{currentPage:void 0!==this.$route.query.currentPage?parseInt(this.$route.query.currentPage):1,totalSize:1,pageSize:10}}},methods:{watchQueryFun:function(){this.$route.query.currentPage?this.pageData.currentPage=parseInt(this.$route.query.currentPage):this.pageData.currentPage=1,this.ajaxFun()},ajaxFun:function(){var e=this;this.$http({url:"/api/manageSystem/system/manager/manager/getManagerList",params:{managerName:this.sendData.managerName,managerCellphone:this.sendData.managerCellphone,job:this.sendData.job,department:this.sendData.department,pageNo:this.pageData.currentPage,pageSize:this.pageData.pageSize}}).then(function(a){"00000"===a.data.code&&(e.pageData.totalSize=a.data.count,e.tableData=a.data.repairmentList)}).catch(function(e){console.log(e)})},handleSizeChange:function(e){this.pageData.pageSize=e,this.$route.query.currentPage?this.$router.push({path:"/manageSystem/manager/manager"}):this.$router.push({path:"/manageSystem/manager/manager",query:{currentPage:1}})},handleCurrentChange:function(e){this.$router.push({path:"/manageSystem/manager/manager",query:{currentPage:e}})},searchFun:function(){this.sendData.managerName=this.formData.managerName,this.sendData.managerCellphone=this.formData.managerCellphone,this.sendData.job=this.formData.job,this.sendData.department=this.formData.department,this.$route.query.currentPage?this.$router.push({path:"/manageSystem/manager/manager"}):this.$router.push({path:"/manageSystem/manager/manager",query:{currentPage:1}})},handleAddManagerRoute:function(){this.$router.push("/manageSystem/manager/manager/addManager")},handleManagerInfo:function(e){this.$router.push({path:"/manageSystem/manager/manager/managerInfo",query:{managerId:e.managerId}})},handleEditManager:function(e){this.$router.push({path:"/manageSystem/manager/manager/editManager",query:{managerId:e.managerId}})},handleEditManagerDepartment:function(e){this.$router.push({path:"/manageSystem/manager/manager/editManagerDepartment",query:{id:e.managerId}})}},mounted:function(){var e=this;this.watchQueryFun(),this.$http({url:"/api/manageSystem/system/manager/manager/getSimpleDepartmentList"}).then(function(a){"00000"===a.data.code&&(e.departmentList=a.data.departmentList)}).catch(function(e){console.log(e)})},watch:{"$route.query.currentPage":function(){this.watchQueryFun()}}}}});