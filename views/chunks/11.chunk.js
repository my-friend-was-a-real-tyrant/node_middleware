webpackJsonp([11],{1046:function(t,e){},1227:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("form",{directives:[{name:"title",rawName:"v-title",value:"编辑收货地址",expression:"'编辑收货地址'"}],staticClass:"deliveryAddress-form"},[i("div",{staticClass:"deliveryAddress-form-item"},[i("span",[t._v("收货人")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.formData.name,expression:"formData.name",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"请输入收货人"},domProps:{value:t.formData.name},on:{input:function(e){e.target.composing||(t.formData.name=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),i("div",{staticClass:"deliveryAddress-form-item"},[i("span",[t._v("联系电话")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.formData.cellphone,expression:"formData.cellphone",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"请输入联系电话"},domProps:{value:t.formData.cellphone},on:{input:function(e){e.target.composing||(t.formData.cellphone=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),i("div",{staticClass:"deliveryAddress-form-item"},[i("span",[t._v("省")]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.formData.provinceId,expression:"formData.provinceId"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.formData.provinceId=e.target.multiple?i:i[0]}}},[i("option",{attrs:{value:""}},[t._v("请选择")]),t._v(" "),t._l(t.provinceList,function(e){return i("option",{key:e.provinceId,domProps:{value:e.provinceId}},[t._v(t._s(e.provinceName))])})],2),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.chooseProvince,expression:"chooseProvince"}],attrs:{type:"text",placeholder:"请选择省",readonly:"readonly"},domProps:{value:t.chooseProvince},on:{input:function(e){e.target.composing||(t.chooseProvince=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"deliveryAddress-form-item"},[i("span",[t._v("市")]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.formData.cityId,expression:"formData.cityId"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.formData.cityId=e.target.multiple?i:i[0]}}},[i("option",{attrs:{value:""}},[t._v("请选择")]),t._v(" "),t._l(t.cityList,function(e){return i("option",{key:e.cityId,domProps:{value:e.cityId}},[t._v(t._s(e.cityName))])})],2),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.chooseCity,expression:"chooseCity"}],attrs:{type:"text",placeholder:"请选择市",readonly:"readonly"},domProps:{value:t.chooseCity},on:{input:function(e){e.target.composing||(t.chooseCity=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"deliveryAddress-form-item"},[i("span",[t._v("区")]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.formData.districtId,expression:"formData.districtId"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.formData.districtId=e.target.multiple?i:i[0]}}},[i("option",{attrs:{value:""}},[t._v("请选择")]),t._v(" "),t._l(t.districtList,function(e){return i("option",{key:e.districtId,domProps:{value:e.districtId}},[t._v(t._s(e.districtName))])})],2),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.chooseDistrict,expression:"chooseDistrict"}],attrs:{type:"text",placeholder:"请选择区",readonly:"readonly"},domProps:{value:t.chooseDistrict},on:{input:function(e){e.target.composing||(t.chooseDistrict=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"deliveryAddress-form-item"},[i("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.formData.address,expression:"formData.address",modifiers:{trim:!0}}],attrs:{placeholder:"请输入详细地址"},domProps:{value:t.formData.address},on:{input:function(e){e.target.composing||(t.formData.address=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),i("zdButton",{staticClass:"deliveryAddress-form-button",on:{click:t.handleEditAddress}},[t._v("保存")])],1)},staticRenderFns:[]}},226:function(t,e,i){function r(t){i(1046)}var o=i(65)(i(865),i(1227),r,"data-v-430343c4",null);t.exports=o.exports},781:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{type:String,size:{type:String,default:"large"},disabled:Boolean},methods:{handleClick:function(t){null!=this.disabled&&!1!==this.disabled||this.$emit("click",t)}}}},782:function(t,e){},783:function(t,e,i){function r(t){i(782)}var o=i(65)(i(781),i(784),r,null,null);t.exports=o.exports},784:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{staticClass:"zd-button",class:[t.size?"zd-button-"+t.size:"",t.type?"zd-button-"+t.type:"",{"zd-button-disabled":t.disabled}],attrs:{disabled:t.disabled},on:{click:t.handleClick}},[i("span",[t._t("default")],2)])},staticRenderFns:[]}},865:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(783),o=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default={components:{zdButton:o.default},data:function(){return{tempBool:!1,initProvinceId:"",initCityId:"",initDistrictId:"",provinceList:[],cityList:[],districtList:[],formData:{name:"",cellphone:"",provinceId:"",cityId:"",districtId:"",address:"",isFrequent:!1}}},computed:{chooseProvince:function(){for(var t=0;t<this.provinceList.length;t++)if(this.provinceList[t].provinceId===this.formData.provinceId)return this.provinceList[t].provinceName;return""},chooseCity:function(){for(var t=0;t<this.cityList.length;t++)if(this.cityList[t].cityId===this.formData.cityId)return this.cityList[t].cityName;return""},chooseDistrict:function(){for(var t=0;t<this.districtList.length;t++)if(this.districtList[t].districtId===this.formData.districtId)return this.districtList[t].districtName;return""},formValidate:function(){return""===this.formData.name||""===this.formData.cellphone||""===this.formData.provinceId||""===this.formData.cityId||""===this.formData.districtId||""===this.formData.address?(console.log(this.formData),"请将表单填写完整"):!1!==/^1(([3,8]\d)|(5[0-3,5-9])|(47)|(7[5-8]))(\d{8})$/.test(this.formData.cellphone)||"请填写正确的手机号"}},methods:{getProvinceList:function(){var t=this;this.$http({url:"/api/common/getProvinceList"}).then(function(e){"00000"===e.data.code&&(t.provinceList=e.data.provinceList,t.formData.provinceId=t.initProvinceId,t.tempBool||t.getCityList(t.formData.provinceId))}).catch(function(t){console.log(t)})},getCityList:function(t){var e=this;this.$http({url:"/api/common/getCityList",params:{provinceId:t}}).then(function(t){"00000"===t.data.code&&(e.cityList=t.data.cityList,e.tempBool||(e.formData.cityId=e.initCityId,e.getDistrictList(e.formData.cityId)))}).catch(function(t){console.log(t)})},getDistrictList:function(t){var e=this;this.$http({url:"/api/common/getDistrictList",params:{cityId:t}}).then(function(t){"00000"===t.data.code&&(e.districtList=t.data.districtList),e.tempBool||(e.formData.districtId=e.initDistrictId,e.$watch("formData.provinceId",function(){e.formData.cityId="",e.formData.districtId="",e.cityList=[],e.districtList=[],""!==e.formData.provinceId&&e.getCityList(e.formData.provinceId)}),e.$watch("formData.cityId",function(){e.formData.districtId="",e.districtList=[],""!==e.formData.cityId&&e.getDistrictList(e.formData.cityId)}),e.tempBool=!0)}).catch(function(t){console.log(t)})},handleEditAddress:function(t){var e=this;t.preventDefault(),!0!==this.formValidate?alert(this.formValidate):this.$http({url:"/api/common/editDeliveryAddress",method:"post",data:{addressId:this.$route.query.addressId,name:this.formData.name,cellphone:this.formData.cellphone,districtId:this.formData.districtId,address:this.formData.address}}).then(function(t){"00000"===t.data.code&&(e.$message("编辑成功"),e.$router.replace({path:"/deliveryAddress/deliveryAddressList",query:{merchandiseId:e.$route.query.merchandiseId,groupId:e.$route.query.groupId}}))}).catch(function(t){console.log(t)})}},mounted:function(){var t=this;Object.prototype.hasOwnProperty.call(this.$route.query,"addressId")?this.$http({url:"/api/common/getDeliveryAddressInfo",params:{addressId:this.$route.query.addressId}}).then(function(e){"00000"===e.data.code&&(t.formData=e.data.info,t.initProvinceId=e.data.info.provinceId,t.initCityId=e.data.info.cityId,t.initDistrictId=e.data.info.districtId,t.getProvinceList())}).catch(function(t){console.log(t)}):this.$router.replace({path:"/deliveryAddress/deliveryAddressList",query:{merchandiseId:this.$route.query.merchandiseId,groupId:this.$route.query.groupId}})}}}});