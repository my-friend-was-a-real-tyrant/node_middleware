webpackJsonp([17],{1122:function(e,t){},1311:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"title",rawName:"v-title",value:"维修服务",expression:"'维修服务'"}],staticClass:"repairment"},[a("zdTabs",{on:{changeTabName:e.changeTabName}},[a("zdTabsView",{attrs:{label:"居家报修",name:"001"}},[a("p",{staticClass:"repairment-personal-tips"},[a("span",[e._v("注意：居家报修可能产生一些维修费用")])]),e._v(" "),a("div",{staticClass:"repairment-area"},[a("span",[e._v("报修房号")]),e._v(" "),a("span",[e._v(e._s(e.info.defaultAddressName))])]),e._v(" "),a("div",{staticClass:"repairment-area"},[a("span",[e._v("最佳上门时间")]),e._v(" "),a("pre",{on:{click:e.handleBestTimeShow}},[e._v(e._s(e.personalFormData.bestTime))])]),e._v(" "),a("div",{staticClass:"repairment-content"},[a("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:e.personalFormData.repairmentContent,expression:"personalFormData.repairmentContent",modifiers:{trim:!0}}],attrs:{placeholder:"请输入您的内容"},domProps:{value:e.personalFormData.repairmentContent},on:{input:function(t){t.target.composing||(e.personalFormData.repairmentContent=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}}),e._v(" "),a("zdUpload",{ref:"personalRepairUpload",attrs:{uploadId:"img-01",uploadType:"1",uploadFileType:"1",maxLength:6,annotation:"最多6张"},model:{value:e.personalFormData.repairmentImgUrl,callback:function(t){e.personalFormData.repairmentImgUrl=t},expression:"personalFormData.repairmentImgUrl"}})],1),e._v(" "),a("ul",{staticClass:"repairment-info"},[a("li",[a("span",[e._v("姓名")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.personalFormData.name,expression:"personalFormData.name",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"请输入您的姓名"},domProps:{value:e.personalFormData.name},on:{input:function(t){t.target.composing||(e.personalFormData.name=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),a("li",[a("span",[e._v("手机号")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.personalFormData.cellphone,expression:"personalFormData.cellphone",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"请输入您的手机号"},domProps:{value:e.personalFormData.cellphone},on:{input:function(t){t.target.composing||(e.personalFormData.cellphone=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})])]),e._v(" "),a("zdButton",{staticClass:"repairment-button",attrs:{disabled:e.personalRepairButton},on:{click:e.handleSubmitPersonalRepairment}},[e._v("提交信息")])],1),e._v(" "),a("zdTabsView",{attrs:{label:"公共报修",name:"002"}},[a("div",{staticClass:"repairment-area"},[a("span",[e._v("报修区域")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.commonFormData.repairmentArea,expression:"commonFormData.repairmentArea",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"请填写报修区域"},domProps:{value:e.commonFormData.repairmentArea},on:{input:function(t){t.target.composing||(e.commonFormData.repairmentArea=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),a("div",{staticClass:"repairment-content"},[a("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:e.commonFormData.repairmentContent,expression:"commonFormData.repairmentContent",modifiers:{trim:!0}}],attrs:{placeholder:"请输入您的内容"},domProps:{value:e.commonFormData.repairmentContent},on:{input:function(t){t.target.composing||(e.commonFormData.repairmentContent=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}}),e._v(" "),a("zdUpload",{ref:"commonRepairUpload",attrs:{uploadId:"img-02",uploadType:"1",uploadFileType:"1",annotation:"最多6张",maxLength:9},model:{value:e.commonFormData.repairmentImgUrl,callback:function(t){e.commonFormData.repairmentImgUrl=t},expression:"commonFormData.repairmentImgUrl"}})],1),e._v(" "),a("ul",{staticClass:"repairment-info"},[a("li",[a("span",[e._v("姓名")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.commonFormData.name,expression:"commonFormData.name",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"请输入您的姓名"},domProps:{value:e.commonFormData.name},on:{input:function(t){t.target.composing||(e.commonFormData.name=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),a("li",[a("span",[e._v("手机号")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.commonFormData.cellphone,expression:"commonFormData.cellphone",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"请输入您的手机号"},domProps:{value:e.commonFormData.cellphone},on:{input:function(t){t.target.composing||(e.commonFormData.cellphone=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})])]),e._v(" "),a("zdButton",{staticClass:"repairment-button",attrs:{disabled:e.commonRepairButton},on:{click:e.handleSubmitCommonRepairment}},[e._v("提交信息")])],1)],1),e._v(" "),a("div",{staticClass:"bestTime-wrapper",class:{"bestTime-wrapper-disabled":e.bestTimeWrapper}},[a("div",{staticClass:"bestTime-box"},[a("div",{staticClass:"bestTime-box-week"},e._l(e.bestTimeWeekList_01,function(t,i){return a("div",{key:t.id,staticClass:"bestTime-box-week-item",class:{"bestTime-box-week-item-checked":t.status},on:{click:function(t){e.handleBestDay_01(i)}}},[e._v(e._s(t.name))])})),e._v(" "),a("div",{staticClass:"bestTime-box-week"},e._l(e.bestTimeWeekList_02,function(t,i){return a("div",{key:t.id,staticClass:"bestTime-box-week-item",class:{"bestTime-box-week-item-checked":t.status},on:{click:function(t){e.handleBestDay_02(i)}}},[e._v(e._s(t.name))])})),e._v(" "),a("div",{staticClass:"bestTime-box-time"},[a("div",{staticClass:"bestTime-box-time-item"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.bestTimeStartHour,expression:"bestTimeStartHour"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.bestTimeStartHour=t.target.multiple?a:a[0]}}},e._l(e.bestTimeHourList,function(t){return a("option",{key:t},[e._v(e._s(t))])}))]),e._v(" "),a("span",[e._v(":")]),e._v(" "),a("div",{staticClass:"bestTime-box-time-item"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.bestTimeStartMinute,expression:"bestTimeStartMinute"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.bestTimeStartMinute=t.target.multiple?a:a[0]}}},e._l(e.bestTimeMinuteList,function(t){return a("option",{key:t},[e._v(e._s(t))])}))]),e._v(" "),a("span",[e._v("至")]),e._v(" "),a("div",{staticClass:"bestTime-box-time-item"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.bestTimeEndHour,expression:"bestTimeEndHour"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.bestTimeEndHour=t.target.multiple?a:a[0]}}},e._l(e.bestTimeHourList,function(t){return a("option",{key:t},[e._v(e._s(t))])}))]),e._v(" "),a("span",[e._v(":")]),e._v(" "),a("div",{staticClass:"bestTime-box-time-item"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.bestTimeEndMinute,expression:"bestTimeEndMinute"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.bestTimeEndMinute=t.target.multiple?a:a[0]}}},e._l(e.bestTimeMinuteList,function(t){return a("option",{key:t},[e._v(e._s(t))])}))])]),e._v(" "),a("zdButton",{attrs:{size:"large"},on:{click:e.handleChooseBestTime}},[e._v("确定")])],1)])],1)},staticRenderFns:[]}},241:function(e,t,a){function i(e){a(1122)}var n=a(65)(a(990),a(1311),i,"data-v-dffd6466",null);e.exports=n.exports},781:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{type:String,size:{type:String,default:"large"},disabled:Boolean},methods:{handleClick:function(e){null!=this.disabled&&!1!==this.disabled||this.$emit("click",e)}}}},782:function(e,t){},783:function(e,t,a){function i(e){a(782)}var n=a(65)(a(781),a(784),i,null,null);e.exports=n.exports},784:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"zd-button",class:[e.size?"zd-button-"+e.size:"",e.type?"zd-button-"+e.type:"",{"zd-button-disabled":e.disabled}],attrs:{disabled:e.disabled},on:{click:e.handleClick}},[a("span",[e._t("default")],2)])},staticRenderFns:[]}},786:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{nav:[]}},computed:{activeName:function(){return this.$route.params.tabName}},methods:{handleClick:function(e){this.$emit("changeTabName",[e])},activeNameChange:function(){for(var e=!1,t=0;t<this.$slots.default.length;t++)if(this.$slots.default[t].elm.nodeType&&1===this.$slots.default[t].elm.nodeType){if(!0===this.$slots.default[t].componentInstance.active){if(this.$slots.default[t].componentInstance.active=!1,!1!==e)break;e=!0}if(this.$slots.default[t].componentInstance.name===this.activeName){if(this.$slots.default[t].componentInstance.active=!0,!1!==e)break;e=!0}}},tipsNumberChange:function(e,t){this.nav[e].tips=t}},mounted:function(){for(var e=0;e<this.$slots.default.length;e++)1===this.$slots.default[e].elm.nodeType&&this.nav.push({label:this.$slots.default[e].componentInstance.label,name:this.$slots.default[e].componentInstance.name,tips:0});this.$route.params.tabName||this.handleClick(this.nav[0].name),this.activeNameChange(),this.$watch("activeName",function(){this.activeNameChange()})}}},787:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{label:{type:String,required:!0},name:{type:String,required:!0},activeName:String},data:function(){return{active:!1}}}},788:function(e,t){},789:function(e,t){},790:function(e,t,a){function i(e){a(789)}var n=a(65)(a(786),a(793),i,null,null);e.exports=n.exports},791:function(e,t,a){function i(e){a(788)}var n=a(65)(a(787),a(792),i,null,null);e.exports=n.exports},792:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"zd-tabs-views",class:e.active?"zd-tabs-views-active":""},[e._t("default")],2)},staticRenderFns:[]}},793:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"zd-tabs-wrapper"},[a("div",{staticClass:"zd-tabs-nav-wrapper"},e._l(e.nav,function(t){return a("div",{key:t.name,staticClass:"zd-tabs-nav-item",class:e.activeName===t.name?"zd-tabs-nav-item-active":"",on:{click:function(a){e.handleClick(t.name)}}},[a("span",{staticClass:"zd-tabs-nav-item-words"},[e._v(e._s(t.label)),t.tips>0?a("i",{staticClass:"zd-tabs-nav-item-tips"},[e._v(e._s(t.tips<=99?t.tips:99))]):e._e()])])})),e._v(" "),e._t("default")],2)},staticRenderFns:[]}},802:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{value:{type:Array},uploadType:{},uploadFileType:{},uploadId:{},maxLength:{type:Number},annotation:{},multiple:{type:Boolean,default:!0}},data:function(){return{support:!0,imgArr:[],times:0,onProgressCount:0,imgSrc:"",showImg:!1}},computed:{imgServerUrlArr:function(){for(var e=[],t=0;t<this.imgArr.length;t++)e.push(this.imgArr[t].serverUrl);return e},getFull:function(){return!(this.imgArr.length>=this.maxLength)},isIos:function(){var e=navigator.userAgent.toLowerCase();return-1!=e.indexOf("iphone")||-1!=e.indexOf("ipad")}},methods:{hidden:function(){this.showImg=!1,this.imgSrc=""},bigImg:function(e){this.imgSrc=e,this.showImg=!0},handleAddClick:function(){document.getElementById("zd-upload-file-"+this.uploadId).click()},handleAddChange:function(){for(var e=this,t=0;t<document.getElementById("zd-upload-file-"+e.uploadId).files.length;t++)!function(t){var a=new FileReader;a.onloadend=function(a){var i="files"+e.times;e.pushIntoImgArr(i,a.target.result),e.times++;var n=e.imgArr.length-1,s=new FormData;s.append("file",document.getElementById("zd-upload-file-"+e.uploadId).files[t]),s.append("uploadType",e.uploadType),s.append("fileSuffixType",e.uploadFileType),e.onProgressCount++,e.$http({url:"/v1/file",method:"post",data:s,onUploadProgress:function(t){e.imgArr[n].progressingWidth=t.loaded/t.total*1.8}}).then(function(t){e.onProgressCount--,1e4===t.data.code&&1e4===t.data.returnData.subCode?(e.imgArr[n].serverUrl=t.data.returnData.data.filePath,e.imgArr[n].uploading=!1):e.imgArr.splice(n,1),e.$emit("input",e.imgServerUrlArr),document.getElementById("zd-upload-file-form-"+e.uploadId).reset()}).catch(function(t){e.onProgressCount--,e.imgArr.splice(n,1),alert("因为未知的原因，图片上传失败")})},a.readAsDataURL(document.getElementById("zd-upload-file-"+e.uploadId).files[t])}(t)},handleDel:function(e,t){this.imgArr.splice(e,1),this.$emit("input",this.imgServerUrlArr)},pushIntoImgArr:function(e,t){this.imgArr.push({key:e,src:t,progressingWidth:0,uploading:!0,serverUrl:""})}},created:function(){FileReader||(this.support=!1,alert("您的浏览器暂不支持图片上传"))}}},804:function(e,t){},805:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAIAAABKGoy8AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpkMTJhOWM4Zi04Y2ZkLTUyNDctOWE3MS05ZDM3ZTBmZmJlMTYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Qjk4MkRDNzA1MzExMTFFN0JGOTBFQzc2OEM2OEVGOUYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Qjk4MkRDNkY1MzExMTFFN0JGOTBFQzc2OEM2OEVGOUYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OTFmNjIxNWItNjFkOC0zNjQzLTkyYTctMGZhODcxYWFmNTNiIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOmQxMmE5YzhmLThjZmQtNTI0Ny05YTcxLTlkMzdlMGZmYmUxNiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PnRozEYAAADjSURBVHja7Nk9DoQgEAVgEQ6gNsAhuP9BPISx8KeQEtjJkmyMydowG0n2TTVYTL6YQHwivPdNcaWUpmna9536ruustUKI8rGq4ah5npdlyT01JCNf+diWBbeu63m5bRvLWB5cCOFm+TDuRwUccMABBxxwwAEHHHD/iRPHceRUx/XhX15Sypwv1TnVVVL0mnK+bC+prp6ifFn3hhiGoU5Z3/dKax1jrHBDGGMEy4+ccRwvT5xzOISBAw444IADDjjggAMOuO+R5Gb5MO6SLynVsYzluan+5MvmfY1OqY5l7EuAAQDa/FPwQV7cCwAAAABJRU5ErkJggg=="},806:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3hpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpkMTJhOWM4Zi04Y2ZkLTUyNDctOWE3MS05ZDM3ZTBmZmJlMTYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MjAxODhERUQ1MzMzMTFFNzk0RkZFNDgxMzMyN0ZCOUMiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MjAxODhERUM1MzMzMTFFNzk0RkZFNDgxMzMyN0ZCOUMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5MWY2MjE1Yi02MWQ4LTM2NDMtOTJhNy0wZmE4NzFhYWY1M2IiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6ZDEyYTljOGYtOGNmZC01MjQ3LTlhNzEtOWQzN2UwZmZiZTE2Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+6dNudQAAAaFJREFUeNq8ls9OwkAQxtuH0CNy1qfwCAkWSEuRhGcwxoNP0WN5AyX6BHjSl/CqaVL+FQKJXGxaGGearWnL7pYiOMnvwmy+6X4zu4uqyKOEdJBL5Bw5QQLERRzkDXlCPpWCQcKPSIhADmu2trSr+BXytYNwlhVynSd+w74I9mSD3IrETbYA/siGaW15vjqAeNKuVE8eDige04/Fz0S+m6YJy+USxuMx1Ov1VK7VasFsNovI5hLTRdrKPU9cVVVYLBYQRxAEYBhGlOt2uxCG4W/O8zzRLkhbGYi2OZ1OIRlUxLbtlDiF67qiAqQdnUrugkajsSWWDd/3oVKpiAqQtvItaxZ5LSpC4pqmyRrt5xYger0et4BlWXmT5Est4jU025O48TKLXvaxJ1lEYtNAOKYEzXjWc7KlwBRFY1rmHTQ6B/P5nNtQsiVZZDgcig5aOT7Nfd4X6Loe7cJxHKhWq6lcs9mEyWQCo9EIarWa9Kr4l8uOon3A67p9zAfn7phPZqfIo9/fcTdrtpb76KsF/rZcIKfsdw95R16RZ+RDJPAjwACxqseZs3zV6AAAAABJRU5ErkJggg=="},808:function(e,t,a){function i(e){a(804)}var n=a(65)(a(802),a(810),i,null,null);e.exports=n.exports},810:function(e,t,a){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.showImg?i("transition",{attrs:{name:"fade"}},[i("div",{staticClass:"img-view",on:{click:e.hidden}},[i("div",{staticClass:"img-layer"}),e._v(" "),i("img",{attrs:{src:e.imgSrc}})])]):e._e(),e._v(" "),i("div",{staticClass:"zd-upload-wrapper",class:e.support?"":"zd-upload-none"},[e._l(e.imgArr,function(t,n){return i("div",{key:t.key,staticClass:"zd-upload-item"},[i("img",{attrs:{src:t.src},on:{click:function(a){e.bigImg(t.src)}}}),e._v(" "),t.uploading?i("div",{staticClass:"zd-upload-item-progress"},[i("i",{style:{width:t.progressingWidth+"rem"}})]):i("img",{staticClass:"zd-upload-item-del",attrs:{src:a(806)},on:{click:function(a){e.handleDel(n,t.key)}}})])}),e._v(" "),!0===e.getFull?i("div",{staticClass:"zd-upload-button",on:{click:e.handleAddClick}},[i("img",{staticClass:"zd-upload-button-add",attrs:{src:a(805)}}),e._v(" "),e._m(0),e._v(" "),i("p",{staticClass:"zd-upload-button-word zd-upload-button-word-s"},[i("span",[e._v(e._s("("+e.annotation+")"))])])]):e._e(),e._v(" "),i("form",{attrs:{id:"zd-upload-file-form-"+e.uploadId}},[i("input",{staticClass:"zd-upload-file-add",attrs:{type:"file",accept:"image/*",capture:!e.isIos&&"camera",id:"zd-upload-file-"+e.uploadId,multiple:e.isIos?!!e.multiple&&"multiple":"multiple"},on:{change:e.handleAddChange}})])],2)],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",{staticClass:"zd-upload-button-word"},[a("span",[e._v("照片/拍照")])])}]}},990:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(790),s=i(n),r=a(791),o=i(r),m=a(808),l=i(m),c=a(783),d=i(c);t.default={components:{zdTabs:s.default,zdTabsView:o.default,zdUpload:l.default,zdButton:d.default},data:function(){return{bestTimeWrapper:!0,bestTimeWeekList_01:[{id:2,name:"周一",status:!0},{id:3,name:"周二",status:!1},{id:4,name:"周三",status:!1}],bestTimeWeekList_02:[{id:5,name:"周四",status:!1},{id:6,name:"周五",status:!1},{id:7,name:"周六",status:!1},{id:8,name:"周日",status:!1}],bestTimeHourList:["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23"],bestTimeMinuteList:["00","05","10","15","20","25","30","35","40","45","50","55"],bestTimeStartHour:"00",bestTimeStartMinute:"00",bestTimeEndHour:"23",bestTimeEndMinute:"55",personalFormData:{roomId:"",repairmentArea:"",repairmentContent:"",repairmentImgUrl:[],bestTime:"点击选择时间",name:"",cellphone:""},commonFormData:{roomId:"",repairmentArea:"",repairmentContent:"",repairmentImgUrl:[],name:"",cellphone:""},personalRepairButton:!1,commonRepairButton:!1}},computed:{isVisitor:function(){return this.$store.state.isVisitor},info:function(){return this.$store.state.info},personalFormValidate:function(){return""===this.personalFormData.repairmentContent||"点击选择时间"===this.personalFormData.bestTime||""===this.personalFormData.name||""===this.personalFormData.cellphone?"请将表单填写完整":!1!==/^1(([3,8]\d)|(5[0-3,5-9])|(47)|(7[5-8]))(\d{8})$/.test(this.personalFormData.cellphone)||"请填写正确的手机号"},commonFormValidate:function(){return""===this.commonFormData.repairmentArea||""===this.commonFormData.repairmentContent||""===this.commonFormData.name||""===this.commonFormData.cellphone?"请将表单填写完整":!1!==/^1(([3,8]\d)|(5[0-3,5-9])|(47)|(7[5-8]))(\d{8})$/.test(this.commonFormData.cellphone)||"请填写正确的手机号"}},methods:{changeTabName:function(e){this.$router.replace("/service/repairment/tab/"+e)},handleBestTimeShow:function(){this.bestTimeWrapper=!1},handleBestDay_01:function(e){if(this.bestTimeWeekList_01[e].status)for(var t=0;t<this.bestTimeWeekList_01.length;t++)if(t!==e){if(this.bestTimeWeekList_01[t].status)break;if(t===this.bestTimeWeekList_01.length-1)for(var a=0;a<this.bestTimeWeekList_02.length&&!this.bestTimeWeekList_02[a].status;a++)if(a===this.bestTimeWeekList_02.length-1)return void alert("请至少选择一个日期")}this.bestTimeWeekList_01[e].status=!this.bestTimeWeekList_01[e].status},handleBestDay_02:function(e){if(this.bestTimeWeekList_02[e].status)for(var t=0;t<this.bestTimeWeekList_02.length;t++)if(t!==e){if(this.bestTimeWeekList_02[t].status)break;if(t===this.bestTimeWeekList_02.length-1)for(var a=0;a<this.bestTimeWeekList_01.length&&!this.bestTimeWeekList_01[a].status;a++)if(a===this.bestTimeWeekList_01.length-1)return void alert("请至少选择一个日期")}this.bestTimeWeekList_02[e].status=!this.bestTimeWeekList_02[e].status},handleChooseBestTime:function(){for(var e="",t=0;t<this.bestTimeWeekList_01.length;t++)this.bestTimeWeekList_01[t].status&&(e+=this.bestTimeWeekList_01[t].name,e+=",");for(var a=0;a<this.bestTimeWeekList_02.length;a++)this.bestTimeWeekList_02[a].status&&(e+=this.bestTimeWeekList_02[a].name,e+=",");e+="\n",e+=this.bestTimeStartHour+":"+this.bestTimeStartMinute,e+="至",e+=this.bestTimeEndHour+":"+this.bestTimeEndMinute,this.personalFormData.bestTime=e,this.bestTimeWrapper=!0},handleSubmitPersonalRepairment:function(){var e=this;!0===this.personalFormValidate?this.$http({url:"/api/system/service/repairment/personalRepair",method:"post",data:{parkId:this.info.defaultParkId,roomId:this.personalFormData.roomId,repairmentArea:this.info.defaultAddressName,repairmentContent:this.personalFormData.repairmentContent,repairmentImgUrl:this.personalFormData.repairmentImgUrl,bestTime:this.personalFormData.bestTime,name:this.personalFormData.name,cellphone:this.personalFormData.cellphone}}).then(function(t){"00000"===t.data.code&&(e.$message("提交成功"),e.$router.replace("/person/myRepairment"))}).catch(function(e){console.log(e)}):alert(this.personalFormValidate)},handleSubmitCommonRepairment:function(){var e=this;!0===this.commonFormValidate?this.$http({url:"/api/system/service/repairment/commonRepair",method:"post",data:{parkId:this.info.defaultParkId,roomId:this.commonFormData.roomId,repairmentArea:this.commonFormData.repairmentArea,repairmentContent:this.commonFormData.repairmentContent,repairmentImgUrl:this.commonFormData.repairmentImgUrl,name:this.commonFormData.name,cellphone:this.commonFormData.cellphone}}).then(function(t){"00000"===t.data.code&&(e.$message("提交成功"),e.$router.replace("/person/myRepairment"))}).catch(function(e){console.log(e)}):alert(this.commonFormValidate)}},mounted:function(){var e=this;!0===this.isVisitor?(alert("本功能只对业主开放，请到“个人中心”完善信息"),this.$router.replace("/index/visitorPerson")):(this.personalFormData.roomId=this.info.defaultAddressId,this.personalFormData.name=this.info.userName,this.personalFormData.cellphone=this.info.cellphone,this.commonFormData.roomId=this.info.defaultAddressId,this.commonFormData.name=this.info.userName,this.commonFormData.cellphone=this.info.cellphone,this.$watch("$refs.personalRepairUpload.onProgressCount",function(t,a){e.personalRepairButton=0!==t}),this.$watch("$refs.commonRepairUpload.onProgressCount",function(t,a){e.commonRepairButton=0!==t}))}}}});