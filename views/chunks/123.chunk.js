webpackJsonp([123],{1120:function(a,e){},1306:function(a,e){a.exports={render:function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"contain-main"},[a._m(0),a._v(" "),t("el-form",{ref:"formData",staticClass:"scoped-form",attrs:{rules:a.formRules,model:a.formData,"label-width":"120px","label-position":"left"}},[t("el-form-item",{attrs:{label:"姓名"}},[t("el-input",{model:{value:a.formData.managerName,callback:function(e){a.formData.managerName=e},expression:"formData.managerName"}}),a._v(" "),!1===a.isLocked?t("el-button",{attrs:{type:"primary",size:"small"},on:{click:a.handleLockManager}},[a._v("冻结")]):t("el-button",{attrs:{type:"primary",size:"small"},on:{click:a.handleUnlockManager}},[a._v("解冻")]),a._v(" "),t("el-button",{attrs:{type:"danger",size:"small"},on:{click:a.handleResetPassword}},[a._v("重置登录密码")])],1),a._v(" "),t("el-form-item",{attrs:{label:"手机号",prop:"managerCellphone"}},[t("el-input",{model:{value:a.formData.managerCellphone,callback:function(e){a.formData.managerCellphone=e},expression:"formData.managerCellphone"}})],1),a._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary",size:"small"},on:{click:a.handleSubmit}},[a._v("提交")]),a._v(" "),t("el-button",{attrs:{type:"danger",size:"small"},on:{click:a.handleCancel}},[a._v("返回")])],1)],1)],1)},staticRenderFns:[function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"contain-title"},[t("span",[a._v("编辑管理员")])])}]}},388:function(a,e,t){function n(a){t(1120)}var r=t(65)(t(899),t(1306),n,"data-v-c7ab1762",null);a.exports=r.exports},899:function(a,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{isLocked:!1,formData:{managerCellphone:"",managerName:""},formRules:{managerCellphone:[{required:!0,trigger:"blur",message:"请输入管理员手机号"}]}}},methods:{handleResetPassword:function(){var a=this;this.$http({url:"/api/manageSystem/system/manager/manager/resetPassword",method:"patch",data:{managerId:this.$route.query.managerId}}).then(function(e){"00000"===e.data.code&&(a.$message("重置成功"),a.$router.push("/manageSystem/manager/manager"))}).catch(function(a){console.log(a)})},handleLockManager:function(){var a=this;this.$http({url:"/api/manageSystem/system/manager/manager/lockManager",method:"patch",data:{managerId:this.$route.query.managerId}}).then(function(e){"00000"===e.data.code&&(a.$message("冻结成功"),a.$router.push("/manageSystem/manager/manager"))}).catch(function(a){console.log(a)})},handleUnlockManager:function(){var a=this;this.$http({url:"/api/manageSystem/system/manager/manager/unlockManager",method:"patch",data:{managerId:this.$route.query.managerId}}).then(function(e){"00000"===e.data.code&&(a.$message("解冻成功"),a.$router.push("/manageSystem/manager/manager"))}).catch(function(a){console.log(a)})},handleSubmit:function(){var a=this;this.$refs.formData.validate(function(e){if(!e)return!1;a.$http({url:"/api/manageSystem/system/manager/manager/editManager",method:"patch",data:{managerId:a.$route.query.managerId,managerName:a.formData.managerName,managerCellphone:a.formData.managerCellphone}}).then(function(e){"00000"===e.data.code&&(a.$message("编辑成功"),a.$router.push("/manageSystem/manager/manager"))}).catch(function(a){console.log(a)})})},handleCancel:function(){this.$router.push("/manageSystem/manager/manager")}},mounted:function(){var a=this;this.$http({url:"/api/manageSystem/system/manager/manager/getManagerInfo",params:{managerId:this.$route.query.managerId}}).then(function(e){"00000"===e.data.code&&(a.formData.managerName=e.data.managerName,a.isLocked=e.data.isLocked,a.formData.managerCellphone=e.data.managerCellphone)}).catch(function(a){console.log(a)})}}}});